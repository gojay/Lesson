(function(a){function b(c){this.element=c;this.enabled=true;this.shown=false;this.uid=0}a.extend(b.prototype,{show:function(f,d,c){if(!this.shown&&this.enabled){var e=this.getOverlay();(c||a.noop).call(e);e.find(".tipswiftc-inner").remove().end().append(f.addClass("tipswiftc-inner")).css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body).get(0).className=["tipswiftc"].concat(d.extraClass).join(" ");this.setPosition(d);a(window).bind("resize.tipSwiftElem",a.proxy(function(){this.setPosition(d)},this));e.addClass("tipswiftc-"+this.gravity);d.showEffect.call(e,d,this.gravity);this.shown=true}a(this.element).data("tipswiftc.instance",this.uid++)},hide:function(c){if(this.shown&&this.enabled){c.hideEffect.call(this.getOverlay(),c,this.gravity);a(window).unbind("resize.tipSwiftElem");this.shown=false}},remove:function(){this.getOverlay().remove();this.shown=false},setPosition:function(g){var c=this.getOverlay(),d=this.element,i=a.extend({},a(d).offset(),{width:d.offsetWidth,height:d.offsetHeight}),e=c[0].offsetWidth,h=c[0].offsetHeight;this.gravity=a.isFunction(g.gravity)?g.gravity.call(d):g.gravity;var f;switch(this.gravity.charAt(0)){case"n":f={top:i.top+i.height+g.offset,left:i.left+i.width/2-e/2};break;case"s":f={top:i.top-h-g.offset,left:i.left+i.width/2-e/2};break;case"e":f={top:i.top+i.height/2-h/2,left:i.left-e-g.offset};break;case"w":f={top:i.top+i.height/2-h/2,left:i.left+i.width+g.offset};break}if(this.gravity.length===2){if(this.gravity.charAt(1)==="w"){f.left=i.left+i.width/2-15}else{f.left=i.left+i.width/2-e+15}}c.css(f)},getPositionner:function(d){var e=this.uid,c=this;return function(){if(e!==a(c.element).data("tipswiftc.instance")){return}var f=c.getOverlay().stop(true,true);c.setPosition(d);d.showEffect.call(f,d,c.gravity);f.stop(true,true)}},getOverlay:function(){if(!this.overlay){this.overlay=a('<div class="tipswiftc"></div>').html('<div class="tipswiftc-arrow"></div>')}return this.overlay},validate:function(){if(!this.element.parentNode){this.remove();this.element=null}},focus:function(c){a(c||":input:eq(0)",this.getOverlay()).focus()},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled}});a.fn.tipSwiftC=function(c){if(c===true){return this.data("tipswiftc")}else{if(typeof c==="string"){var e=this.data("tipswiftc");if(e){e[c]()}return this}}var d=this;c=a.extend({},a.tipSwiftC.defaultCfg,c);a.each(c.plugins,function(){this.init(d,c)});if(!c.live){this.each(function(){a.tipSwiftC.get(this,c)})}return this};a.tipSwiftC={get:function(e,c){var d=a.data(e,"tipswiftc");if(!d){d=new b(e,a.tipSwiftC.elementOptions(e));a.data(e,"tipswiftc",d);a.each(c.plugins,function(){if(a.isFunction(this.initInstance)){this.initInstance(d)}})}return d},elementOptions:function(d,c){return a.metadata?a.extend({},c,a(d).metadata()):c},gravity:{autoNS:function(){return a(this).offset().top>(a(document).scrollTop()+a(window).height()/2)?"s":"n"},autoWE:function(){return a(this).offset().left>(a(document).scrollLeft()+a(window).width()/2)?"e":"w"}},effects:{show:function(c){this.css({visibility:"visible",opacity:c.opacity})},hide:function(){this.remove()},fadeIn:function(c){this.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:c.opacity})},fadeOut:function(){this.stop().fadeOut(function(){a(this).remove()})},slideOutWE:function(c,d){this.stop().css({visibility:"visible",opacity:0}).animate({left:"+="+15*(d.indexOf("e")>-1?-1:1),opacity:c.opacity})},slideInWE:function(c,d){this.stop().animate({left:"-="+15*(d.indexOf("e")>-1?-1:1),opacity:0},function(){a(this).remove()})}},plugins:{}};a.tipSwiftC.defaultCfg={live:false,gravity:"n",offset:0,opacity:0.9,showEffect:a.tipSwiftC.effects.show,hideEffect:a.tipSwiftC.effects.hide,extraClass:[],html:false,plugins:[]};a.tipSwiftC.plugins.tip=function(c){if(!(this instanceof arguments.callee)){return new arguments.callee(c)}this.options=c||{}};a.extend(a.tipSwiftC.plugins.tip.prototype,{pluginCfg:{showOn:["mouseenter","focusin"],hideOn:["mouseleave","focusout"],title:"title",fallback:"",delayIn:0,delayOut:0,filterContent:a.noop},init:function(d,c){var e=this.options=a.extend({},c,this.pluginCfg,this.options);binder=e.live?"live":"bind";e.extraClass=["tip"].concat(e.extraClass.slice(0));d=a(d);this.fixTitle(d);d[binder](e.showOn.join(" "),a.proxy(this.show,this));d[binder](e.hideOn.join(" "),a.proxy(this.hide,this))},initInstance:function(c){c._tip={showTimer:null,hideTimer:null}},fixTitle:function(c){var d;c.each(function(){d=a(this);if(d.attr("title")||!d.data("tipswiftc.title")){d.data("tipswiftc.title",d.attr("title")||"").removeAttr("title")}})},show:function(f){var d=a.tipSwiftC.get(f.currentTarget,this.options);clearTimeout(d._tip.hideTimer);if(this.options.delayIn){this.fixTitle(a(d.element));var c=this;d._tip.showTimer=setTimeout(function(){c.doShow(d)},this.options.delayIn)}else{this.doShow(d)}},doShow:function(e){var f=this.options,c=a(e.element),d;this.fixTitle(c);if(typeof f.title==="string"){d=f.title==="title"?c.data("tipswiftc.title"):c.attr(f.title)}else{if(a.isFunction(f.title)){d=f.title.call(e)}}d=(""+d).replace(/(^\s*|\s*$)/,"")||f.fallback;d=a("<div>")[f.html?"html":"text"](d);e.show(d,f,function(){f.filterContent(d,e.getPositionner(f),e)})},hide:function(f){var d=a.tipSwiftC.get(f.currentTarget,this.options);clearTimeout(d._tip.showTimer);if(this.options.delayOut){var c=this;d._tip.hideTimer=setTimeout(function(){c.doHide(d)},this.options.delayOut)}else{this.doHide(d)}},doHide:function(c){c.hide(this.options)}});a.tipSwiftC.openedDialog;a.tipSwiftC.hidingDialog=false;a.tipSwiftC.btnUid=0;a.tipSwiftC.btnActions={};a.tipSwiftC.templates={};a.tipSwiftC.templates.dialog=function(e,d,i,g){var h=a('<span class="tipswiftc-title"></span>'),c=a('<span class="tipswiftc-body"></span>'),f=a('<span class="tipswiftc-buttons"></span>'),j;a.each(i.buttons,function(m,l){j="btn-tipswiftc-"+a.tipSwiftC.btnUid++;f.append(a(d(m,l.label,j)));a.tipSwiftC.btnActions[j]=l.action||a.noop});if(i.body){e.append(c.html(i.body))}e.append(f).prepend(h.html(i.title));return function(){i.filterContent(h,c,f,g.getPositionner(i),g)}};a.tipSwiftC.templates.dialogButton=function(c,d,e){return'<input type="button" id="'+e+'" name="'+c+'" value="'+d+'" />'};a.tipSwiftC.plugins.dialog=function(c){if(!(this instanceof arguments.callee)){return new arguments.callee(c)}this.options=c||{}};a.extend(a.tipSwiftC.plugins.dialog.prototype,{pluginCfg:{showOn:["click"],dialogTemplate:a.tipSwiftC.templates.dialog,buttonTemplate:a.tipSwiftC.templates.dialogButton,submitOnEnter:0,filterContent:a.noop},init:function(e,d){var f=this.options=a.extend({},d,this.pluginCfg,this.options),c=f.live?"live":"bind";f.html=true;f.extraClass=["dialog"].concat(f.extraClass.slice(0));e=a(e);e[c](f.showOn.join(" "),a.proxy(this.trigger,this))},initInstance:function(c){c._dialog={shown:false}},trigger:function(c){c.preventDefault();this.show(a.tipSwiftC.get(c.currentTarget,this.options))},show:function(g){if(g._dialog.shown){return}if(a.tipSwiftC.openedDialog){this.hide(a.tipSwiftC.openedDialog)}if(g.shown){g.remove()}var h=this.options,f=g.getOverlay(),d=this,e=a("<div>"),c=h.dialogTemplate(e,h.buttonTemplate,h,g);g.show(e,h,c);g.disable();g._dialog.shown=true;a.tipSwiftC.openedDialog=g;f.delegate("[id^=btn-tipswiftc-]","click",function(i){i.stopPropagation();i.target=g.element;if(a.tipSwiftC.btnActions[a(this).attr("id")].call(f,i)!==false){d.hide(g)}});if(h.submitOnEnter!==false){f.delegate("input, select, button","keydown",function(i){if(i.which==13&&!/btn-tipswiftc/.test(a(i.currentTarget).attr("id"))){f.find("[id^=btn-tipswiftc-]").eq(h.submitOnEnter).click()}})}g.focus()},hide:function(c){if(c._dialog.shown){a.tipSwiftC.hidingDialog=true;c.enable();c.hide(this.options);c._dialog.shown=false;a.tipSwiftC.hidingDialog=false;a.tipSwiftC.openedDialog=null}}})}(jQuery));(function(d){var c,b=0,e={};function a(g,f){this.element=g;this.$element=d(g);this.options=f;this.enabled=true;this.showTimer=null;this.hideTimer=null;this.tipOpened=false;this.dialogOpened=false;this.tipOptions=d.extend({},f,f.tip||{});this.dialogOptions=d.extend({},f,f.dialog||{});this._fixTitle()}d.extend(a.prototype,{showTip:function(f){if(!this.dialogOpened){var g=this.tipOptions;f=typeof f=="undefined"?g.tip.delayIn:f;window.clearTimeout(this.hideTimer);this.hideTimer=null;if(f&&!this.showTimer){this._fixTitle();this.showTimer=window.setTimeout(d.proxy(this.showTip,this),f)}else{window.clearTimeout(this.showTimer);this.showTimer=null;if(this._buildTipDom()&&this.enabled){g.showEffect.call(this._setDomType("tip"),g,this.gravity);this.tipOpened=true}}}},hideTip:function(f){if(!this.dialogOpened){var g=this.tipOptions;f=typeof f=="undefined"?g.tip.delayOut:f;window.clearTimeout(this.showTimer);this.showTimer=null;if(f&&!this.hideTimer){this.hideTimer=window.setTimeout(d.proxy(this.hideTip,this),f)}else{if(this.tipOpened){window.clearTimeout(this.hideTimer);this.hideTimer=null;g.hideEffect.call(this.tip(),this.options,this.gravity);this.tipOpened=false}}}},showDialog:function(){if(c){c.hideDialog();c=null}if(this.tipOpened){this.tip().remove()}if(this.enabled){var h=this.dialogOptions;this._buildDialogDom();h.showEffect.call(this._setDomType("dialog"),h,this.gravity);this.dialogOpened=true;c=this;var g=this.tip(),f=this;g.addClass("opened");g.delegate("[id^=btn-tipswift-]","click",function(i){i.target=f.element;if(e[d(this).attr("id")].call(g,i)!==false){f.hideDialog()}});d(document).bind("click",function(j){var i=d(j.target);if(i.is("*:not(.tipswift)")&&i.is("*:not(.help-tooltip)")&&i.is("*:not(.help-tooltip *)")){c.hideDialog()}})}},hideDialog:function(){var f=this.dialogOptions;f.hideEffect.call(this.tip(),f,this.gravity);this.dialogOpened=false},toggleButtons:function(f){this.tip().find(".tipswift-buttons").toggle(f)},setTipPosition:function(g,f){var k=this.tip(),j=g||this.dialogOptions,m=d.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),h=k[0].offsetWidth,l=k[0].offsetHeight;this.gravity=d.isFunction(j.gravity)?j.gravity.call(this.$element[0]):j.gravity;var i;switch(this.gravity.charAt(0)){case"n":i={top:m.top+m.height+j.offset,left:m.left+m.width/2-h/2};break;case"s":i={top:m.top-l-j.offset,left:m.left+m.width/2-h/2};break;case"e":i={top:m.top+m.height/2-l/2,left:m.left-h-j.offset};break;case"w":i={top:m.top+m.height/2-l/2,left:m.left+m.width+j.offset};break}if(this.gravity.length==2){if(this.gravity.charAt(1)=="w"){i.left=m.left+m.width/2-15}else{i.left=m.left+m.width/2-h+15}}k.css(i);if(f!==false){j.showEffect.call(k,j,this.gravity);k.stop(false,true)}},tip:function(){if(!this.$tip){this.$tip=d('<div class="tipswift"></div>').html('<div class="tipswift-arrow"></div><div class="tipswift-inner"></div>')}return this.$tip},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},_setDomType:function(f){var h=f=="tip"?this.tipOptions:this.dialogOptions,g=this.tip();g[0].className="tipswift";g.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).appendTo(document.body);this.setTipPosition(h,false);g.addClass("tipswift-"+this.gravity).addClass(f).addClass(h.extraClass.join(" "));return g},_buildDialogDom:function(){d.tipSwift.templates.dialog(this.tip().find(".tipswift-inner").empty(),this.options.dialog,this._getButtonsContent(),this)},_getButtonsContent:function(){var i,f="",h=this.options.dialog;var g=d.isFunction(h.buttons)?h.buttons():h.buttons;d.each(g,function(l,j){i="btn-tipswift-"+b++;f+=d.tipSwift.templates.button(l,j.label,i);e[i]=j.action||d.noop});return f},_buildTipDom:function(){var i,g,f=this.$element,h=this.options.tip;this._fixTitle();if(typeof h.title=="string"){i=f.attr(h.title=="title"?"original-title":h.title);tooltipKey=f.data("tooltip-key")}else{if(d.isFunction(h.title)){i=h.title.call(f[0])}}i=(""+i).replace(/(^\s*|\s*$)/,"");g=i||h.fallback;this.tip().find(".tipswift-inner").empty()[h.html?"html":"text"](g);return g},_fixTitle:function(){var f=this.$element;if(f.attr("title")||typeof(f.attr("original-title"))!="string"){f.attr("original-title",f.attr("title")||"").removeAttr("title")}}});d.fn.tipSwift=function(n){if(n===true){return this.data("tipswift")}else{if(typeof n=="string"){var k=this.data("tipswift");if(k){k[n]()}return this}}var g=typeof n.tip!="undefined",i=typeof n.dialog!="undefined";n=d.extend(true,{},d.tipSwift.defaults,n);function f(p){var o=d.data(p,"tipswift");if(!o){o=new a(p,d.tipSwift.elementOptions(p,n));d.data(p,"tipswift",o)}return o}function h(){var o=f(this);o.showTip()}function m(){var o=f(this);o.hideTip()}function j(p){p.preventDefault();var o=f(this);o.showDialog()}if(!n.live){this.each(function(){f(this)})}var l=n.live?"live":"bind";if(g&&n.tip.trigger!="manual"){this[l](n.tip.showOn.join(" "),h);this[l](n.tip.hideOn.join(" "),m)}if(i&&n.dialog.trigger!="manual"){this[l](n.dialog.showOn.join(" "),j)}return this};d.tipSwift={};d.extend(d.tipSwift,{elementOptions:function(g,f){return d.metadata?d.extend({},f,d(g).metadata()):f},gravity:{autoNS:function(){return d(this).offset().top>(d(document).scrollTop()+d(window).height()/2)?"s":"n"},autoWE:function(){return d(this).offset().left>(d(document).scrollLeft()+d(window).width()/2)?"e":"w"}},effects:{show:function(f){this.css({visibility:"visible",opacity:f.opacity})},hide:function(){this.remove()},fadeIn:function(f){this.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:f.opacity})},fadeOut:function(){this.stop().fadeOut(function(){d(this).remove()})},slideOutNS:function(f,g){this.stop().css({visibility:"visible",opacity:0}).animate({top:"+="+15*(g.indexOf("s")>-1?-1:1),opacity:f.opacity})},slideInNS:function(f,g){this.stop().animate({bottom:"-="+15*(g.indexOf("s")>-1?-1:1),opacity:0},function(){d(this).remove()})},slideOutWE:function(f,g){this.stop().css({visibility:"visible",opacity:0}).animate({left:"+="+15*(g.indexOf("e")>-1?-1:1),opacity:f.opacity})},slideInWE:function(f,g){this.stop().animate({left:"-="+15*(g.indexOf("e")>-1?-1:1),opacity:0},function(){d(this).remove()})}},templates:{dialog:function(i,h,j,g){var l=h,k=d('<span class="tipswift-title"></span>'),f=d('<span class="tipswift-body"></span>');j=d('<span class="tipswift-buttons"><span class="tipswift-close-text">close</span> <img src="http://assets.bodybuilding.com/common/images/controls/tip-close-btn.gif"></span>').html(j);i.prepend(j);if(l.body){i.prepend(f.html(d.isFunction(l.body)?l.body(k,f,g):l.body))}i.prepend(k.html(d.isFunction(l.title)?l.title(k,f,g):l.title))},button:function(f,g,h){if(g==="Close"){return'<span class="tipswift-buttons" id="'+h+'"><span class="tipswift-close-text">'+g+'</span><img style="float:right;margin:-1px 0 0 2px;" src="http://assets.bodybuilding.com/common/images/controls/tip-close-btn.gif" /></span>'}return'<span class="tipswift-buttons" id="'+h+'"><a href="#" onclick="return false;" class="tipswift-close-text">'+g+"</a></span>"}}});d.tipSwift.defaults={live:false,gravity:"s",offset:0,opacity:0.9,showEffect:d.tipSwift.effects.show,hideEffect:d.tipSwift.effects.hide,extraClass:[],tip:{trigger:"events",delayIn:0,delayOut:0,html:false,title:"title",fallback:"",showOn:["mouseenter","focusin"],hideOn:["mouseleave","focusout"]},dialog:{trigger:"events",showOn:["click"],dialogTemplate:d.tipSwift.templates.dialog,buttonTemplate:d.tipSwift.templates.button}}})(jQuery);(function(a){a.fn.alphaSorter=function(){a.fn.alphaSorter.initContent=function(){a("body").find(".alpha-sorter").each(function(b,c){a(".alpha-sorter .alpha-content").hide();a(".alpha-sorter .alpha-content .alpha-content-item:empty").each(function(){var d=a(this).attr("data-content-index");a(".alpha-sorter .alpha-list li a[data-list-index='"+d+"']").addClass("none")})})};a.fn.alphaSorter.showDefault=function(){var b=a(".alpha-sorter .alpha-content").attr("data-content-default");a(".alpha-sorter .alpha-list li a").removeClass("selected");a(".alpha-sorter .alpha-list li a[data-list-index='"+b+"']").addClass("selected");a(".alpha-sorter .alpha-content").show();a(".alpha-sorter .alpha-content .alpha-content-item").hide();a(".alpha-sorter .alpha-content").find('.alpha-content-item[data-content-index="'+b+'"]').show();a(".alpha-sorter .alpha-content").find('.alpha-content-item[data-content-index="'+b+'"]').removeClass("displayNone")};a.fn.alphaSorter.showContent=function(){a(".alpha-sorter .alpha-list li a:not('.none')").live("click",function(c,d){var b=a(this).attr("data-list-index");a(".alpha-sorter .alpha-list li a").removeClass("selected");a(this).addClass("selected");a(".alpha-sorter .alpha-content").show();a(".alpha-sorter .alpha-content .alpha-content-item").hide();a(".alpha-sorter .alpha-content").find('.alpha-content-item[data-content-index="'+b+'"]').show();a(".alpha-sorter .alpha-content").find('.alpha-content-item[data-content-index="'+b+'"]').removeClass("displayNone")})};a.fn.alphaSorter.viewAllContent=function(){a(".alpha-sorter .see-all a").live("click",function(b,c){a(".alpha-sorter .alpha-list li a").removeClass("selected");a(".alpha-sorter .alpha-content").show();a(".alpha-sorter .alpha-content .alpha-content-item").show()})};a().ready(function(){a.fn.alphaSorter.initContent();a.fn.alphaSorter.showDefault();a.fn.alphaSorter.showContent();a.fn.alphaSorter.viewAllContent()})}}(jQuery));(function(a){a.fn.skuSelector=function(b){return this.each(function(){var f='<p class="medium font-red" style="width: 300px; height: 100px;">We appear to be having difficulty finding something. Please <a href="#" class="close-sku-modal">close this dialog and try again</a>. Please <a href="/store/email.htm">contact Customer Support</a> if you continue to see this error.</p>';var c=Math.floor(Math.random()*new Date());var e,d;var g=this;if(b&&b.postProcess&&typeof b.postProcess==="function"){e=b.postProcess}this.initialize=function(){if(a(this).data("link")){BB.Controller.Messenger.registerListener(a(this).data("link"),c,this.handleMessage.bind(this))}a(this).unbind("click").bind("click",this.handleClick.bind(this))};this.handleClick=function(h){var i=(h)?h:window.event;i.preventDefault();this.showModal()};this.showModal=function(){if(a(this).data("url")){BB.Log.debug("Showing the skuSelector modal using url: "+a(this).data("url"));try{TINY.box.onShown=this.bindTriggers.bind(this);TINY.box.show(a(this).data("url"),1,0,0,1)}catch(i){try{console.log(i)}catch(h){}}}d=window.setTimeout(this.handleTimeout.bind(this),10000)};this.bindTriggers=function(){BB.Log.debug("Tiny Box is shown for skuSelector");window.clearTimeout(d);a("#tinycontent").find(".event-trigger").each(function(){a(this).eventTrigger()});a("#tinycontent").find(".close-sku-modal").each(function(h){a(this).bind("click",g.hideModal.bind(g))});if(e&&typeof e==="function"){BB.Log.debug("Running skuSelector post processing function");e(g)}};this.hideModal=function(h){if(typeof h!=="undefined"){h.preventDefault()}TINY.box.hide()};this.handleMessage=function(h){if(h==="show-sku-selector-modal"){this.showModal()}if(h==="hide-sku-selector-modal"){this.hideModal()}};this.handleTimeout=function(h){BB.Log.debug("skuSelector modal timed out");TINY.box.show(f,0,0,0,1)};this.initialize()})};BB.Plugins.skuSelector={defaultOnLoad:function(){BB.Log.debug("skuSelector defaultOnLoad processing");try{a("input:submit","#tinycontent").unbind("focus.add-sku, mouseover.add-sku").bind("focus.add-sku",function(){a("input:submit","#tinycontent").removeClass("hover");a(this).addClass("hover")}).bind("mouseover.add-sku",function(){a(this).focus()});a("input:submit","#tinycontent")[0].focus()}catch(b){}}}}(jQuery));(function(b){var a='<div id="$ID" class="bb-fly-out"><div class="fly-out-container"><div class="fly-out-arrow"></div><div class="bb-fly-out-content"><div class="clearFloatNoHeight"></div></div></div>';b.fn.bbFlyOut=function(){return this.each(function(){var g=this;var d=Math.floor(Math.random()*new Date());var c=b(a.replace("$ID","fo"+d)).css("display","none");var h;var e="";var f=103;this.initialize=function(){if(b(this).data("link")){BB.Controller.Messenger.registerListener(b(this).data("link"),d,this.handleMessage.bind(this))}b("body").append(c);this.loadContent();orig_height=b(c).height();return this};this.showModal=function(){if(!e){this.fetchData()}this.reposition();b(c).show();b(this).unbind("mouseleave.flyout").bind("mouseleave.flyout",this.startEnterTimer.bind(this));b(c).unbind("mouseleave.flyout, mouseenter.flyout").bind("mouseleave.flyout",this.startHideTimer.bind(this)).bind("mouseenter.flyout",function(){clearTimeout(g.enter_timer)})};this.fetchData=function(){if(b(this).data("source-url")){b.ajax({url:b(this).data("source-url"),dataType:"html",success:this.ajaxSuccess.bind(this),failure:this.ajaxError.bind(this)})}else{this.loadContent("fail")}};this.ajaxSuccess=function(k,l,j){e=k;b("div.bb-fly-out-content",c).html(k);try{b(".close-flyout",c).eventTrigger()}catch(i){}};this.ajaxError=function(i,k,j){};this.hideModal=function(){b(c).hide();b(c).unbind("mouseleave.flyout")};this.startHideTimer=function(){g.enter_timer=window.setTimeout(g.hideModal.bind(g),2000)};this.startEnterTimer=function(){g.enter_timer=window.setTimeout(g.hideModal.bind(g),750)};this.reposition=function(){var k=b(this).offset();var j=(b(g).offset().top)-f;var i=k.left+b(this).width()+3;b(c).css({top:j+"px",left:i+"px"});b(".fly-out-arrow",c).css("margin-top",f)};this.handleMessage=function(j,i){switch(j){case"show":g.showModal();break;case"close":g.hideModal();break}};this.handleInternalMessage=function(j,i){};this.loadContent=function(i){switch(i){case"testing":b("div.bb-fly-out-content",c).html("<p>Testing...</p>");break;case"fail":b("div.bb-fly-out-content",c).html('<div style="margin: 10px;">No content to load.</div>');break;default:b("div.bb-fly-out-content",c).html('<div class="fly-out-loading"><div class="loading-icon">Loading...</div></div>');break}};return this.initialize()})}}(jQuery));(function(a){a.fn.bbSlider=function(){return this.each(function(){var i=this;var b=parseFloat(a(this).data("min-value"),10)||0;var f=parseFloat(a(this).data("max-value"),10)||50;var d=parseFloat(a(this).data("step"),10)||1;var g=a(this).data("prefix")||"";var k=a(this).data("suffix")||"";var h=parseFloat(a(this).data("low"),10)||b;var j=parseFloat(a(this).data("high"),10)||f;var l=a(this).data("low-field");var e=a(this).data("high-field");var c=a(this).data("target-url");this.newLow=h;this.newHigh=j;this.pid=Math.floor(Math.random()*new Date());this.plugin_slider=undefined;this.initialize=function(){if(a(this).data("link")){BB.Controller.Messenger.registerListener(a(this).data("link"),this.pid,this.handleMessage.bind(this))}if(l){a("#"+l).val(g+i.formatDecimals(h)+k).unbind(".bbslider").bind("keypress.bbslider",this.handleInputKeypress).bind("focus.bbslider",this.handleFocus).bind("blur.bbslider",this.handleBlur).bind("change.bbslider",this.handleChange)}if(e){a("#"+e).val(g+i.formatDecimals(j)+k).unbind(".bbslider").bind("keypress.bbslider",this.handleInputKeypress).bind("focus.bbslider",this.handleFocus).bind("blur.bbslider",this.handleBlur).bind("change.bbslider",this.handleChange)}a(".submit-button-control",this).unbind("click.bbslider").bind("click.bbslider",this.submitForm.curry(this));this.plugin_slider=a("div.slider-range",this).slider({range:true,min:b,max:f,values:[h,j],step:d,slide:function(n,o){var p=o.values[0];var m=o.values[1];if(p===m){return false}if(p<b){p=b}if(m>f){m=f}if(l){i.newLow=p;a("#"+l).val(g+i.formatDecimals(p)+k)}if(e){i.newHigh=m;a("#"+e).val(g+i.formatDecimals(m)+k)}},stop:function(){i.sendMessage("slider:"+i.pid)}});return this};this.formatDecimals=function(n){var m=/\.\d$/;if(m.test(n)){n+="0"}return n};this.sendMessage=function(m){BB.Controller.Messenger.sendMessage(a(this).data("link"),m)};this.reset=function(){i.newLow=h;i.newHigh=j;if(l){a("#"+l).val(g+h+k)}if(e){a("#"+e).val(g+j+k)}a(i.plugin_slider).slider("values",0,h);a(i.plugin_slider).slider("values",1,j);a(i).removeClass("selected-slider")};this.submitForm=function(o,m){var p=(m)?m:window.event;p.preventDefault();var n=c.replace("MIN_CONSTRAINT",i.newLow).replace("MAX_CONSTRAINT",i.newHigh);window.location.href=n};this.handleInputKeypress=function(m){var o=(m)?m:window.event;var n=(o.keyCode)?o.keyCode:o.which;if((n!==13&&n<48)||n>57){o.preventDefault();return false}else{if(n===13){o.preventDefault();i.handleChange.apply(this,arguments);return false}}};this.handleFocus=function(m){m.preventDefault();a(this).val(a(this).val().replace(/[^0-9\.]/g,""));this.select();return false};this.handleChange=function(m){var n=a(this).attr("id").toLowerCase();var o=a(this).val();if(n.indexOf("high")!==-1||n.indexOf("upper")!==-1){if(o>f||o<i.newLow){a(this).val(f);return}i.newHigh=o;a(i.plugin_slider).slider("values",1,o);i.sendMessage("slider:"+i.pid)}else{if(n.indexOf("low")!==-1||n.indexOf("lower")!==-1){if(o<b||o>i.newHigh||o>f){a(this).val(b);return}i.newLow=o;a(i.plugin_slider).slider("values",0,o);i.sendMessage("slider:"+i.pid)}}};this.handleBlur=function(m){a(this).val(g+a(this).val()+k)};this.handleMessage=function(n,m){if(n&&n==="reset"){this.reset()}else{if(n&&/^slider\:\d+$/i.test(n)){if(parseInt(n.split(":")[1],10)===this.pid){a(this).addClass("selected-slider")}else{this.reset()}}}};return this.initialize()})}}(jQuery));(function(a){a.fn.facetPosition=function(b){return this.each(function(){this.initialize=function(){try{if(b&&b.marker&&b.marker!==""){var g=(b.fudge)?b.fudge:0;var f=a("#"+b.marker).offset().top-this.findOwnOffset();var c=a("#facet-signpost");var h={visibility:"visible",display:"block"};if((f-g)>0){a('<div style="height: '+(f-g)+'px;font-size: 0px; width: 100%;">').insertBefore(this)}a(this).css(h);a(c).css(h)}}catch(e){try{console.log(e)}catch(d){}}};this.findOwnOffset=function(){return a(this).offset().top-parseInt(a(this).css("margin-top").replace(/[^0-9]/g,""),10)};this.initialize()})}}(jQuery));(function(a){a.fn.ingredientLabelSelector=function(){return this.each(function(){var d=this;var c;var b="";this.initialize=function(){c=a(this).data("ingredient-sku");a(this).unbind("change").bind("change",this.changeSKU.bind(this))};this.changeSKU=function(h,f,e){var g=(h.target)?h.target:h.srcElement;c=a("option:selected",g).val();this.queryLabel()};this.queryLabel=function(){a.ajax({url:"/store/common/ajax/catalog/ingredient-xhr.jsp",dataType:"html",type:"GET",data:"skuId="+c,success:this.labelReceived.bind(this),failure:this.failedAjax.bind(this)})};this.labelReceived=function(g,e,f){b=g;this.updateLabel()};this.failedAjax=function(g,e,f){alert("Error retreiving ingredients. Please contact Customer Support")};this.updateLabel=function(){a(".ingredient-table > .label_frame").html(b)};this.initialize()})}}(jQuery));(function(a){a.fn.usernameAvailability=function(){return this.each(function(c,e){var g=this,b=16,d=/^[0-9a-zA-Z]*$/,h="",f;this.checkUsername=function(){h=a(g).val();if(a.trim(h)===""){return}var i=g.filterUsername();if(i){g.checkAvailability()}else{if(h.length>=b){g.displayMessage("maxlength")}else{g.displayMessage("invalid")}}};this.displayMessage=function(j){var i=a("#username-message");switch(j){case"invalid":i.text("Username contains invalid characters").addClass("taken");break;case"unavailable":i.text("Username Unavailable").addClass("taken");break;case"maxlength":i.text("Username Too Long").addClass("taken");break;case"available":i.text("Username Available").removeClass("taken");f=setTimeout(function(){i.fadeOut(200,function(){i.text("")})},5000);break}i.fadeIn(200)};this.checkAvailability=function(){a.get("/store/commerce/shipping/check-username.jsp?username="+h,function(i){if(i==="false"){g.displayMessage("available")}else{g.displayMessage("unavailable")}})};this.filterUsername=function(){if((d.test(h))&&(h.length<b)){return true}return false};a(this).bind("blur",this.checkUsername.bind(this))})}}(jQuery));(function(a){if(!BB.Store){BB.Store={}}if(!BB.Store.QuickRate){BB.Store.QuickRate={onLoad:function(){BB.Log.debug("quickrate onLoad processing");var b=a.trim(location.protocol);a.getScript(b+"//assets.bodybuilding.com/content/javascript/src/modules/select-rating.js?ver="+BBCOM_ASSET_VER);a.getScript(b+"//assets.bodybuilding.com/store/javascript/src/sections/quick-rate/quick-rate.js?var="+BBCOM_ASSET_VER,function(c,d){BB.Store.QuickRate.start()})}}}a(document).ready(function(){a("a.quick-rate").skuSelector({postProcess:BB.Store.QuickRate.onLoad})})}(jQuery));(function(c,a,b){c.fn.leftNavDropDown=function(){var d="gpv_link";return this.each(function(){var f=c(this),e=this;this.initialize=function(){this.getData();this.fireOnChange()};this.getData=function(){var h=c(this).data("src"),g=c(this).attr("title");var i=c(this).children("option:first").addClass("default").clone().wrap("<div>").parent();c(this).load(h,function(l,m){var k=c("<option />",{"class":"placeholder",disabled:"true",label:"- Error loading list -",value:"false",text:"- Error loading list -"}),j=c("<optgroup />",{"class":"temporary"}).append(i);if(m==="success"){c(this).first().prepend(i.html());j.children().appendTo(f);j.remove();c("option.placeholder").attr("selected","selected")}else{f.children().remove();f.append(i,k)}});c(this).unbind("click",this.getData)};this.fireOnChange=function(){if(BB.Util.currentBrowser.indexOf("MobileSafari")===-1){f.change(function(){f.parent("form").attr("action",f.val()).submit()})}else{return false}if(BB.Util.currentBrowser.indexOf("CHROME")===-1&&BB.Util.currentBrowser.indexOf("OPERA")===-1){f.click(function(){e.updateOmniture();e.goToLink()})}else{if(BB.Util.currentBrowser.indexOf("FF")!==-1){f.children().click(function(){e.updateOmniture();e.goToLink()})}else{c("option.placeholder").attr("disabled","true");c(this).change(function(){this.updateOmniture();this.goToLink()})}}c(this).keyup(function(g){if(g.keyCode===13){this.updateOmniture();this.goToLink()}})};this.goToLink=function(){var g;if(c(this).is("option")){g=c(this).attr("value")}else{g=c(this).find("option:selected").attr("value")}if(g!=="false"&&g.length>0){b.location=g}};this.updateOmniture=function(){var i=c(this).find("option:selected").text().toLowerCase(),h=c(this).attr("id").toLowerCase(),g=c(this).attr("value");if(g!=="false"&&typeof s.c_w==="function"){s.c_w(d,i+"|"+h)}};this.initialize()})}}(jQuery,document,window));(function(b){var a={};a.toggleIndicator=function(c,d){if(d){b(c).removeClass("is-hidden")}else{if(!b(c).hasClass("is-hidden")){b(c).addClass("is-hidden")}}};a.toggleContent=function(d,c){b(".slsnw-list",d).stop(true).animate(c,"fast",function(){if(b(".slsnw-list",d).height()===0){b(d).data("open",false);b(this).css("display","none")}else{b(this).css("height","auto");b(d).data("open",true)}a.toggleIndicator(d,b(d).data("open"))})};a.findToggleItem=function(d){$this=this;try{var e=d.split(" ")[1];b("div.drawer",this).each(function(){if(b(this).attr("id")===e){a.handleClick($this,this,undefined)}})}catch(c){}};a.handleClick=function(e,c,d){if(d!==undefined){d.preventDefault()}if(b(c).data("open")){b(c).data("original-height",b(".slsnw-list",c).height());a.toggleContent(c,{height:"0"})}else{b(".slsnw-list",c).css("display","block");a.toggleContent(c,{height:jQuery.data(c,"original-height")+"px"})}};a.handleMessage=function(c){if(c&&c==="close all"){b("div.drawer",this).each(function(){a.toggleContent(this,{height:"0"})})}else{if(c&&c==="open all"){b("div.drawer",this).each(function(){b(".slsnw-list",this).css("display","block");a.toggleContent(this,{height:b(this).data("original-height")})})}else{if(c&&c.match(/^toggle [a-zA-Z0-9\-_]+/i)){a.findToggleItem.apply(this,arguments)}}}};a.getSetId=function(){return jQuery.data(this,"id")};a.initialize=function(c){return this.each(function(){var d=this;b(this).data("id",Math.floor(Math.random()*new Date()));if(b(this).data("link")){BB.Controller.Messenger.registerListener(b(this).data("link"),b(this).data("id"),function(f,e){a.handleMessage.apply(this,arguments)}.bind(this))}b("div.drawer",this).each(function(){var e=this;b(this).data("id",Math.floor(Math.random()*new Date()));b(this).data("original-height",b(".slsnw-list",this).height());b(this).data("open",true);if(b(".slsnw-list",this).data("start-shown")===false||b(".slsnw-list",this).css("display")==="none"){b(this).data("open",false);b(".slsnw-list",this).height(0).css("display","none");b(d).drawerSet("toggleIndicator",e,b(this).data("open"))}b(".slsnw-list",this).css("visibility","visible");b("h1, h2, h3, h4, .drawer-header",this).bind("click",a.handleClick.curry(this,e))})})};b.fn.drawerSet=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.initialize.apply(this,arguments)}else{b.error("Method "+c+" does not exist on jQuery.drawerSet")}}}}(jQuery));(function(a){var b='<div class="bb-rotator-bulleted-panel-container"><div class="clearFloatNoHeight"></div><div class="bb-rotator-bulleted-panel first"><div class="bb-rotator-bulleted-cp-control panel-prev"></div><div class="bb-rotator-bulleted-cp-control panel-pager" style="{BEGIN_WIDTH}px"></div><div class="bb-rotator-bulleted-cp-control panel-next"></div></div></div>';a.fn.bbRotatorBulleted=function(c){return this.each(function(){var g={controlHeight:25,controlWidth:14,width:null};a.extend(g,c);if(g.width===undefined||g.width===null){g.width=607}var k=this;var e=a(this).children().length;var j=1;var h={};var f={};var d=0;var i=(BB.Util.currentBrowser.indexOf("IE")!==-1)?0:"fast";this.initialize=function(){var m=a(this).height()-g.controlHeight;a(this).children().each(function(){a(this).css({"float":"left",width:g.width+"px",height:+m+"px"})});var n=e*g.width;h=a(this).wrapInner('<div class="bb-rotator-slide-wrapper" style="width: '+n+'px; position: absolute;" />').find(".bb-rotator-slide-wrapper");var l=e*g.controlWidth;this.initializeControls(l)};this.initializeControls=function(l){a(this).append(b.replace("{BEGIN_WIDTH}",l));a(this).find("bb-rotator-bulleted-panel-container").bind("dblclick",k.clearSelection.bind(k));a(this).find(".bb-rotator-bulleted-cp-control").each(function(m){if(a(this).hasClass("panel-prev")){a(this).bind("click",k.movePrevious.bind(k)).bind("dblclick",k.clearSelection.bind(k))}if(a(this).hasClass("panel-next")){a(this).bind("click",k.moveNext.bind(k)).bind("dblclick",k.clearSelection.bind(k))}if(a(this).hasClass("panel-pager")){a(this).css("width",e*g.controlWidth);f=a(this)}});a(this).find("a.bb-rotator-next-panel-link").each(function(m){a(this).bind("click",k.moveNext.bind(k)).bind("dblclick",k.clearSelection.bind(k))})};this.moveNext=function(l){l.preventDefault();if((j+1)>e||d!==0){return false}else{d=2;j+=1;this.doSlideAnimation(a(h).position().left-g.width);this.doControlAnimation(-1);this.updateSlidePosition();this.clearSelection()}};this.movePrevious=function(l){l.preventDefault();if((j-1)<1||d!==0){return false}else{d=2;j-=1;this.doSlideAnimation(a(h).position().left+g.width);this.doControlAnimation(1);this.updateSlidePosition();this.clearSelection()}};this.doSlideAnimation=function(l){a(h).animate({left:l},"fast",this.removeAnimating.bind(this))};this.doControlAnimation=function(m){var n=a(f).css("background-position");if(n===undefined){n=a(f).css("background-position-x")}var l=this.backgroundPositionParser(n);if(l!==false){a(f).animate({"background-position":l-g.controlWidth*m},i,this.removeAnimating.bind(this))}};this.updateSlidePosition=function(){var l=a(k).find(".bb-rotator-bulleted-panel")[0];if(j+1>e){a(l).addClass("last").removeClass("first")}else{if(j-1<1){a(l).removeClass("last").addClass("first")}else{a(l).removeClass("last first")}}};this.removeAnimating=function(){d=(d<0)?0:d-1};this.clearSelection=function(){var l;if(window.getSelection){l=window.getSelection()}else{if(document.getSelection){l=document.getSelection()}else{return}}if(l&&l.removeAllRanges){l.removeAllRanges()}};this.backgroundPositionParser=function(m){try{return parseInt(m.match(/^-?\d+/)[0],10)}catch(l){return false}};this.initialize()})}}(jQuery));(function(a){a.fn.bbTabControl=function(c){var b={tabMarginOffsetH:20,tabMarginOffsetV:15,defaultSelection:0};a.extend(b,c);return this.each(function(){var g=this;var e;var d=0;var f=(typeof b.defaultSelection==="number")?b.defaultSelection:0;if(a.data(g,"initialized")===true){return}this.initialize=function(){a.data(g,"initialized",true);a(this).prepend('<div class="tab-top"></div>');e=a(this).append('<div id="guide-control-panel" class="tab-control-panel"><ul class="tab-control-panel-controls"></ul></div>').find(".tab-control-panel-controls");a(this).children(".tab").each(function(h){a(this).css({width:(a(g).width()-b.tabMarginOffsetH)+"px",height:(a(g).height()-a(e).height()-b.tabMarginOffsetV)+"px",display:(h===f)?"block":"none"});var i=a(a(this).find("label")[0]).remove().html();var j=(h===f)?a('<li class="selected"><div>'+i+"</div></li>"):a("<li><div>"+i+"</div></li>");a(j).appendTo(e).bind("click",g.handleControlClick.curry(this));a(this).find(".next-tab-link").bind("click",g.handleNextTabClick.bind(this))});g.indexTabIDs();g.featuredTabLinks();g.setTab(a(this).children(".tab").eq(f).get(0))};this.handleNextTabClick=function(i){i.preventDefault();var h=a(g).children(".tab");if(h.length<=d+1){return false}g.setTab(h[d+1])};this.indexTabIDs=function(){a(".tab-control-panel ul li").each(function(i){var h=i+1;a(this).attr({id:"guide-tab-"+h})});a(".bb-rotator-panel").each(function(i){var h=i+1;a(this).attr({id:"guide-tab-slide-"+h})})};this.featuredTabLinks=function(){var i=a(g).find(".featured-tab-link"),h=a(g).children(".tab");i.click(function(j){j.preventDefault();var k=parseFloat(a(this).attr("rel"));g.setTab(h[k])})};this.setTab=function(h){a(g).find(".tab").each(function(i){if(this===h){a(this).css({display:"block"});d=i}else{a(this).css({display:"none"})}});a(e).find("li").each(function(i){if(i===d){a(this).addClass("selected").find("div").append('<span class="selected-tab"></span>')}else{a(this).removeClass("selected").find("span.selected-tab").remove()}})};this.handleControlClick=function(h,i){i.preventDefault();g.setTab(h)};this.initialize()})}}(jQuery));(function(a){a.fn.FDAWarning=function(){return this.each(function(e,f){var g=this,d="",h="bbFDAWarning",c=[],b=[{location:"/store/",message:"You are now entering the Bodybuilding.com Store. Products in the Store are not intended to diagnose, treat, cure, or prevent any disease. To continue on to the Store, please click 'Yes' below to show your agreement. Otherwise, please click 'No' to remain on the current page.",cookieAppend:"Store"},{location:"reviews.bodybuilding.com",message:"You are now entering the Bodybuilding.com Reviews section. Products in the Store are not intended to diagnose, treat, cure, or prevent any disease. To continue on to the Reviews section, please click 'Yes' below to show your agreement. Otherwise, please click 'No' to remain on the current page.",cookieAppend:"Reviews"}];this.testWarning=function(j){var m=(j)?j:window.event;var l=g.getCurrentLocation();var k=g.getTestLocation(g);d=k;var i=g.testWarningDisplay({cur:l,test:k});if(i.msg){g.displayWarning(i.msg,i.cookie);g.hideSelectBoxes();m.preventDefault()}};this.hideSelectBoxes=function(){c=a("select:visible");a("select:visible").css("display","none")};this.showSelectBoxes=function(){a(c).css("display","block");c=[]};this.buildPopup=function(j){var i='<div id="fda-warning"><div class="fda-warning-content"><div class="fda-warning-header"><span>FDA Disclaimer</span></div><div class="fda-warning-message">'+j+'</div><div class="fda-buttons"><div class="fda-accept-message">Accept and continue?</div><a href="continue" class="fda-continue">Yes</a><a href="remain" class="fda-remain">No</a></div></div></div>';return i};this.displayWarning=function(k,j){var i=g.buildPopup(k);TINY.box.show(i,0,0,0,1);TINY.box.onShown=function(){a("#tinycontent .fda-continue").live("click",function(){document.cookie=h+j+"=true";location.href=d;return false});a("#tinycontent .fda-remain").live("click",function(){TINY.box.hide();g.showSelectBoxes();return false})}};this.testWarningDisplay=function(l){var i=l.test;var j={msg:false,cookie:""};var k=g.getCurrentLocation();a.each(b,function(n,m){if((i.toLowerCase().indexOf(m.location.toLowerCase())!==-1)&&document.cookie.indexOf(h+m.cookieAppend)===-1){if((k.toLowerCase().indexOf(m.location.toLowerCase())===-1)){j.msg=m.message;j.cookie=m.cookieAppend}}});return j};this.getCurrentLocation=function(){var i=location.href;return i};this.getTestLocation=function(j){var i=a(j).attr("href");return i};a(this).bind("click",this.testWarning.bind(this))})}}(jQuery));(function(a){var b;b=window.BB||{};b.Configs=b.Configs||{};b.Data=b.Data||{};b.Data.bbcomStoreMessaging={unknown:"Message not found",removeSpecialCart:"Are you sure you want to remove this product? To get it back, you must delete and re-add the parent product.",invalidPromotion:"This promotion is no longer available. Items in the cart will always show the most recent product prices. Would you like to proceed?",removePromo:"Are you sure you want to remove this promo code?",discontinuedItem:"One or more products have been discontinued. Would you like to reorder available items?",rateOverallBeforeFlavor:"You must rate this product overall before you rate the flavor",rateOverallBeforeReview:"You must rate this product overall before you review this product",rateOverallBeforeSubmit:"You must rate this product overall before you submit rating.",globalInvalidProduct:"Please remove unavailable items from your cart before checking out.",generalCartError:"You have errors in your cart. Please correct the errors before proceeding.",accountHistoryGlobalError:"One or more products are not available from this order. Would you like to reorder available products?",confirmCountryChange:"Changing your country catalog may affect prices, promotions and product availability.<br /> Are you sure you'd like to change?"};a.tipSwiftC.templates.bbcomDialog=function(e,d,i,g){var h=a('<div class="bbcom-tipdialog-title"></div>'),c=a('<div class="bbcom-tipdialog-body"></div>'),f=a('<div class="bbcom-tipdialog-buttons"></div>'),j;a.each(i.buttons,function(m,l){a.tipSwiftC.btnUid+=1;j="btn-tipswiftc-"+a.tipSwiftC.btnUid;f.append(a(d(m,l.label,j)));a.tipSwiftC.btnActions[j]=l.action||a.noop});if(i.body){e.append(c.html(i.body))}e.append(f).prepend(h.html(i.title));return function(){i.filterContent(h,c,f,g.getPositionner(i),g)}};a.tipSwiftC.templates.bbcomDialogButton=function(c,d,e){return'<input type="button" id="'+e+'" name="'+c+'" value="'+d+'" class="tooltip-dialog-button" />'};a.tipSwiftC.templates.bbcomDialogButtonClass=function(c,d,e){return'<a id="'+e+'" name="'+c+'" class="bbcom-tipswift-close-button-transparent">'+d+"</a>"};a.tipSwiftC.templates.bbcomFooterLinkClass=function(c,d,e){return'<a class="tooltip-dialog-button" id="'+e+'">'+d+"</a>"};b.Configs.TipSwift={};b.Configs.TipSwift.bbcomStandardButtons={yes:{label:"Yes",action:function(c){if(c.target){document.location=c.target.href}}},no:{label:"No"}};b.Configs.TipSwift.bbcomReorderButtons={yes:{label:"Yes",action:function(c){c.preventDefault();if(c.target){var d=a(c.target);d.closest("form").append(a('<input name="'+d.attr("name")+'" value="'+d.attr("value")+'" type="hidden"></input>'));d.closest("form").submit()}}},no:{label:"No"}};b.Configs.TipSwift.bbcomReorderButtonsSpan={yes:{label:"Yes",action:function(c){c.preventDefault();if(c.target){var d=a(c.target);var e=d.find("input[type=submit]");d.closest("form").append(a('<input name="'+e.attr("name")+'" value="'+e.attr("value")+'" type="hidden"></input>'));d.closest("form").submit()}}},no:{label:"No"}};b.Configs.TipSwift.bbcomChangeCountryButtons={yes:{label:"Yes",action:function(c){c.preventDefault();if(c.target){var d=a(c.target);gatheredURL=d.attr("href");window.location.href=gatheredURL}}},close:{label:"No"}};b.Configs.TipSwift.bbcomCloseButton={close:{label:"x"}};b.Configs.TipSwift.bbcomDefaultPluginConfig={showEffect:a.tipSwiftC.effects.slideOutWE,hideEffect:a.tipSwiftC.effects.slideInWE,dialogTemplate:a.tipSwiftC.templates.bbcomDialog,buttonTemplate:a.tipSwiftC.templates.bbcomDialogButton,opacity:1,extraClass:["bbcom-tipdialog"],title:"",body:"No Body Defined",buttons:b.Configs.TipSwift.bbcomStandardButtons};b.Configs.TipSwift.bbcomStorePromoUIDialog=a.extend({},b.Configs.TipSwift.bbcomDefaultPluginConfig,{body:b.Data.bbcomStoreMessaging.removeSpecialCart});b.Configs.TipSwift.bbcomCartRemovePromo=a.extend({},b.Configs.TipSwift.bbcomDefaultPluginConfig,{body:b.Data.bbcomStoreMessaging.removePromo});b.Configs.TipSwift.bbcomCartInvalidPromoItem=a.extend({},b.Configs.TipSwift.bbcomDefaultPluginConfig,{body:b.Data.bbcomStoreMessaging.invalidPromotion,buttons:b.Configs.TipSwift.bbcomReorderButtons});b.Configs.TipSwift.bbcomCartInvalidPromoOrder=a.extend({},b.Configs.TipSwift.bbcomDefaultPluginConfig,{body:b.Data.bbcomStoreMessaging.invalidPromotion,buttons:b.Configs.TipSwift.bbcomReorderButtons});b.Configs.TipSwift.pluginBbcomCartDiscoItem=a.extend({},b.Configs.TipSwift.bbcomDefaultPluginConfig,{body:b.Data.bbcomStoreMessaging.discontinuedItem,buttons:b.Configs.TipSwift.bbcomReorderButtons});b.Configs.TipSwift.pluginCartGlobalInvalid=a.extend({},b.Configs.TipSwift.bbcomDefaultPluginConfig,{body:b.Data.bbcomStoreMessaging.globalInvalidProduct,buttonTemplate:a.tipSwiftC.templates.bbcomDialogButtonClass,buttons:b.Configs.TipSwift.bbcomCloseButton,extraClass:["bbcom-tip-tooltip"]});b.Configs.TipSwift.pluginGeneralCartInvalid=a.extend({},b.Configs.TipSwift.bbcomDefaultPluginConfig,{body:b.Data.bbcomStoreMessaging.generalCartError,buttons:b.Configs.TipSwift.bbcomCloseButton,extraClass:["bbcom-tip-tooltip"],buttonTemplate:a.tipSwiftC.templates.bbcomDialogButtonClass});b.Configs.TipSwift.pluginAccountHistoryGlobalError=a.extend({},b.Configs.TipSwift.bbcomDefaultPluginConfig,{body:b.Data.bbcomStoreMessaging.accountHistoryGlobalError,buttons:b.Configs.TipSwift.bbcomReorderButtonsSpan});b.Configs.TipSwift.pluginGlobalFooterTip=a.extend({},b.Configs.TipSwift.bbcomDefaultPluginConfig,{body:b.Data.bbcomStoreMessaging.confirmCountryChange,buttons:b.Configs.TipSwift.bbcomChangeCountryButtons,buttonTemplate:a.tipSwiftC.templates.bbcomFooterLinkClass});b.Configs.TipSwift.bbcomDefaultConfig=a.extend(true,{},a.tipSwiftC.defaultCfg,{showOn:["click"],gravity:a.tipSwiftC.gravity.autoNS});b.Configs.TipSwift.storePromoUIConfirmation=function(){return a.extend({},b.Configs.TipSwift.bbcomDefaultConfig,{plugins:[a.tipSwiftC.plugins.dialog(b.Configs.TipSwift.bbcomStorePromoUIDialog)]})};b.Configs.TipSwift.storeRemoveCouponConfirmation=function(){return a.extend({},b.Configs.TipSwift.bbcomDefaultConfig,{plugins:[a.tipSwiftC.plugins.dialog(b.Configs.TipSwift.bbcomCartRemovePromo)]})};b.Configs.TipSwift.storeCartInvalidPromoItem=function(){return a.extend({},b.Configs.TipSwift.bbcomDefaultConfig,{plugins:[a.tipSwiftC.plugins.dialog(b.Configs.TipSwift.bbcomCartInvalidPromoItem)]})};b.Configs.TipSwift.storeCartInvalidPromoOrder=function(){return a.extend({},b.Configs.TipSwift.bbcomDefaultConfig,{plugins:[a.tipSwiftC.plugins.dialog(b.Configs.TipSwift.bbcomCartInvalidPromoOrder)]})};b.Configs.TipSwift.storeCartDiscoItem=function(){return a.extend({},b.Configs.TipSwift.bbcomDefaultConfig,{plugins:[a.tipSwiftC.plugins.dialog(b.Configs.TipSwift.pluginBbcomCartDiscoItem)]})};b.Configs.TipSwift.storeCartDiscoItem=function(){return a.extend({},b.Configs.TipSwift.bbcomDefaultConfig,{plugins:[a.tipSwiftC.plugins.dialog(b.Configs.TipSwift.pluginBbcomCartDiscoItem)]})};b.Configs.TipSwift.storeCartDiscoItem=function(){return a.extend({},b.Configs.TipSwift.bbcomDefaultConfig,{plugins:[a.tipSwiftC.plugins.dialog(b.Configs.TipSwift.pluginBbcomCartDiscoItem)]})};b.Configs.TipSwift.storeCartDiscoItem=function(){return a.extend({},b.Configs.TipSwift.bbcomDefaultConfig,{plugins:[a.tipSwiftC.plugins.dialog(b.Configs.TipSwift.pluginBbcomCartDiscoItem)]})};b.Configs.TipSwift.storeCartGlobalInvalid=function(){return a.extend({},b.Configs.TipSwift.bbcomDefaultConfig,{plugins:[a.tipSwiftC.plugins.dialog(b.Configs.TipSwift.pluginCartGlobalInvalid)]})};b.Configs.TipSwift.storeGeneralCartInvalid=function(){return a.extend({},b.Configs.TipSwift.bbcomDefaultConfig,{plugins:[a.tipSwiftC.plugins.dialog(b.Configs.TipSwift.pluginGeneralCartInvalid)]})};b.Configs.TipSwift.storeAccountHistoryGlobalError=function(){return a.extend({},b.Configs.TipSwift.bbcomDefaultConfig,{plugins:[a.tipSwiftC.plugins.dialog(b.Configs.TipSwift.pluginAccountHistoryGlobalError)]})};b.Configs.TipSwift.storeGlobalFooterTip=function(){return a.extend({},b.Configs.TipSwift.bbcomDefaultConfig,{plugins:[a.tipSwiftC.plugins.dialog(b.Configs.TipSwift.pluginGlobalFooterTip)]})}}(jQuery));(function(a){a.tipSwiftC.templates.bbcomTipTemplate=function(d,c,g,e){var f=a('<span class="tipswiftc-title"></span>'),b=a('<span class="tipswiftc-body"></span>'),h="btn-tipswiftc-"+a.tipSwiftC.btnUid++;if(g.body){d.append(b.html(g.body))}b.prepend(a('<a class="bbcom-tipswift-close-button" id="'+h+'" name="Close" href="#" />'));a.tipSwiftC.btnActions[h]=function(i){i.preventDefault()};return function(){g.filterContent(f,b,{},e.getPositionner(g),e)}};BB=BB||{Configs:{}};if(!BB.Configs){BB.Configs={}}BB.Configs.TipSwift.bbcomTipWithClose={showEffect:a.tipSwiftC.effects.slideOutWE,hideEffect:a.tipSwiftC.effects.slideInWE,dialogTemplate:a.tipSwiftC.templates.bbcomTipTemplate,buttonTemplate:a.noop,opacity:1,extraClass:["bbcom-tip-tooltip"],title:"",body:"This is the worlds best tip",buttons:{}};BB.Configs.TipSwift.bbcomQuickRateTip=a.extend(true,{},a.tipSwiftC.defaultCfg,{gravity:a.tipSwiftC.gravity.autoNS,plugins:[a.tipSwiftC.plugins.dialog(BB.Configs.TipSwift.bbcomTipWithClose)]});a.fn.bbcomToolTip=function(c){var b={trigger:a.noop,showOn:["click"]};return this.each(function(){if(a(this).data("bb-dialog-tip-init")){return}a(this).data("bb-dialog-tip-init",true);var g=a.extend({},b,c),f={},d,e;this.initialize=function(){d=a(this).data("tooltip-key");var j=(d)?BB.Data.ToolTipMessages[d]:"No string provided";var h=[];if(g.trigger!==a.noop&&typeof g.trigger==="function"){g.trigger(this.showTip)}else{h=g.showOn}f=a.tipSwiftC.plugins.dialog(a.extend({},BB.Configs.TipSwift.bbcomTipWithClose,{showOn:h,body:j}));var i=a.extend({},a.tipSwiftC.defaultCfg,{showOn:h,gravity:a.tipSwiftC.gravity.autoNS,plugins:[f]});a(this).tipSwiftC(i);e=a.tipSwiftC.get(this,g)};this.showTip=function(h){if(h){f.show(e)}else{f.hide(e)}};this.initialize()})}}(jQuery));eval(function(h,b,i,d,g,f){g=function(a){return(a<b?"":g(parseInt(a/b)))+((a=a%b)>35?String.fromCharCode(a+29):a.toString(36))};if(!"".replace(/^/,String)){while(i--){f[g(i)]=d[i]||g(i)}d=[function(a){return f[a]}];g=function(){return"\\w+"};i=1}while(i--){if(d[i]){h=h.replace(new RegExp("\\b"+g(i)+"\\b","g"),d[i])}}return h}("12 2W;12 5i={};(15($){4G.2W=15(B,C){12 D=14,B=$(B);12 E=\"1.2.5\";14.17={2e:41,2u:'4O',2v:1,1D:13,1A:13,28:13,3f:13,3e:18,3N:5y,1s:18,2h:18,3z:{x:50,y:30},3x:13,2O:18};14.1b={2a:'2a',2A:'2A',48:'48',1A:'1A',1G:'1G',43:'43',1D:'1D',2H:'2H',1q:'4V',2C:'2C',1p:'1p'};14.1a=1;14.2s=B;14.1j=B.2r('3P');14.1i=B.2r('2K');14.2L=1;14.2y=[];14.27=[];14.1C=18;14.36=18;12 F=4R.4T.2F();14.19={1W:F.1k(/1W/)?13:18,2n:F.1k(/2n/)?13:18,4c:F.1k(/2n\\/2/)?13:18,44:F.1k(/2n\\/3\\.0/)?13:18,1v:F.1k(/1v/)?13:18,3X:(F.1k(/1v 6/)&&!F.1k(/1v 7|8/))?13:18,5w:F.1k(/1v 7/)?13:18,3S:F.1k(/1v 8/)?13:18,2m:F.1k(/1v 9/)?13:18,2U:(F.1k(/1v/)&&F.1k(/1W/))?13:18,2X:F.1k(/2X/)?13:18,2o:(F.1k(/2o/)&&!F.1k(/1W/))?13:18};1y(12 b 1Z 14.19){11(14.19[b]===13){14.19.5v=b}}11(14.19.1W===13&&!14.19.2U){14.19.1Q=F.1k(/1W\\/([0-9\\.]+)/)[1]}11(14.19.2n===13){14.19.1Q=F.1k(/2n\\/([0-9\\.]+)/)[1]}11(14.19.1v===13){14.19.1Q=F.1k(/1v ([0-9\\.]+)/)[1]}11(14.19.2X===13){14.19.1Q=F.1k(/1Q\\/([0-9\\.]+)/)[1]}11(14.19.2o===13){14.19.1Q=F.1k(/1Q\\/([0-9\\.]+)/)[1]}12 G;12 H;12 I,1K,1Y,1L;12 J=15(a){11(D.19.1v&&!D.19.2m){12 b=a.1e('4Y-4q');12 c=b;11(c==\"5l\"){b=\"#5o\"}1g{11(c.1k('#')){11(c.1c<7){12 t=\"#\"+c.1S(1,1)+c.1S(1,1)+c.1S(2,1)+c.1S(2,1)+c.1S(3,1)+c.1S(3,1);b=t}}}b=b.5B(\"#\",\"\");1T={r:b.1S(0,2),g:b.1S(2,2),b:b.1S(4,2)};12 d=\"#\";12 e=\"4S\";1y(12 k 1Z 1T){1T[k]=1l.1O(0,(1n(1T[k],16)-1));1T[k]=e.3R((1T[k]-1T[k]%16)/16)+e.3R(1T[k]%16);d+=1T[k]}a.1B('.'+D.1b.1A).1e({'42':'40:4m.3C.3M(2J=1) 65(4q='+d+')',4v:d})}};12 K=15(){11(1d(3l)!=\"1t\"){3l.4P.4Q(15(){11(1d(D.17.2t)!=\"1t\"){12 a=[];11(1d(D.17.2t)==\"3h\"){a.2d(D.17.2t)}1g{a=D.17.2t}1y(12 i=0;i<a.1c;i++){3l.4W(a[i])}}11(D.17.1s===18){12 b=0;11(D.19.3S&&!D.19.2U){b=1l.3m(($(D.1j[0]).3E()-$($(D.1j[0]).1B('3r')[0]).1E())/2)}11(D.19.2o||D.19.1W||D.19.2U){11(1I.5r.5s.2F().1k(/5u/)){b=1l.3m(($(D.1j[0]).35()-$($(D.1j[0]).1B('3r')[0]).1E())/2)}}D.1j.1B('>3r').1e('38-1m',b)}})}};12 L=18;12 M=15(){12 a=1I.5J('5K');1y(12 i=0;i<a.1c;i++){12 b=a[i].3Q;11(b.1k(/2k\\.4u(\\.(3V|4w))?(\\.4x)?\\.4y/)){12 c=b.4z('?');11(c.1c>1){11(c[1].1k(/4A/)){L=13}}}}11(L===18){L=13;12 d=2Z 4C();d.3Q=(1I.4D.4F==\"4e:\"?\"4e:\":\"4H:\")+\"//4I.2k.4K/4L/\"+E+\"/3V\"}};12 N=15(){11(D.17.2O===13){1y(12 i=0;i<D.1j.1c;i++){11(i<D.2L){$(D.1j[i]).2B(D.1b.2H)}1g{$(D.1j[i]).1w(D.1b.2H)}}}};12 O=15(a){12 b=18;11(1d(D.2c)!='1t'){11(1d(D.1q().17)!='1t'){11(D.1q().17.28===13&&$(a.3L).2j('.'+D.1b.1q).1c>0){b=13}}}1o b};12 P={3b:15(){12 a=2Z 4Z();12 b=a.52()+\"-\"+a.55()+\"-\"+a.56()+\" \"+a.58()+\":\"+a.5a()+\":\"+a.5b();12 c=(0-a.6b()/60);12 d=1l.3m(c);12 e=\"5k\";11(d!=c){e=(c-d)*60}1o b+d+\":\"+e},3d:15(a){11(D.2y.1c===0||D.2y[D.2y.1c-1].2a!=a){D.2y.2d({2a:a,3b:14.3b()})}}};12 Q=15(){12 c=18,2f=18;4n=15(){c=18;11(D.1C===18){11(1d(D.1q())!='1t'){11(D.1q().2i){11(D.1q().1a+1!=D.1q().1i.1c){c=13}}}12 b=13;11(D.17.2h===18&&D.1a==D.1i.1c){11(c===13){11(D.1q().1a+1===D.1q().1i.1c){b=18}}1g{b=18}}11(b===18){D.1C=13}1g{11(c===13){D.1q().1p(15(a){11(1d(a.1q().1i)!='1t'){11(a.1q().1a+1==a.1q().1i.1c){c=18;2f=a.1a}}})}1g{D.1p(15(a){11(2f!==18){a.2f(2f);2f=18}})}}}};3i(4n,D.17.3N)};12 R=15(){11($.25(B.1e('1M'),['1M','24','5G'])){B.1e('1M','5I')}B.1e('3n','3o');1y(12 i=0;i<D.1i.1c;i++){12 d=$(D.1i[i]);11(D.1j.1c>i){12 e=$(D.1j[i])}12 f={1m:1n(d.1e('1F-1m'),10),1x:1n(d.1e('1F-1x'),10),1z:1n(d.1e('1F-1z'),10),1h:1n(d.1e('1F-1h'),10)};12 g={1m:1n(d.1e('26-1m-1u'),10),1x:1n(d.1e('26-1x-1u'),10),1z:1n(d.1e('26-1z-1u'),10),1h:1n(d.1e('26-1h-1u'),10)};1y(12 k 1Z g){g[k]=3v(g[k])?0:g[k]}11(i<D.1a){11(i==D.1a-1){11(D.17.1s!==13){e.1w(D.1b.1G)}d.1w(D.1b.1G)}2b=i*1K;11(D.17.1s===13){11(i==D.1a-1){2b=0}1g{2b=0-(D.17.2v-i-1)*B.1u()}}}1g{2b=i*1K+1Y;11(D.17.1s===13){2b=(i+1-D.17.2v)*B.1u()}}D.1Y=(1Y-f.1h-f.1x-g.1h-g.1x);d.1e({1M:'24',1h:2b,2p:1,1E:(H-f.1m-f.1z-g.1m-g.1z)+\"1f\",1u:D.1Y+\"1f\",38:0,4E:f.1h+1K+\"1f\"}).1w(D.1b.2a).1w(D.1b.2a+\"2M\"+(i+1));11(D.17.1s!==13){12 h={1m:1n(e.1e('1F-1m'),10),1x:1n(e.1e('1F-1x'),10),1z:1n(e.1e('1F-1z'),10),1h:1n(e.1e('1F-1h'),10)};1y(12 k 1Z h){11(h[k]<10&&(k==\"1h\"||k==\"1x\")){h[k]=10}}12 j=h.1m+\"1f \"+h.1x+\"1f \"+h.1z+\"1f \"+h.1h+\"1f\";12 l={1M:'24',2p:3,3F:'3K',1h:2b,1u:(H-h.1h-h.1x)+\"1f\",1E:I+\"1f\",1F:j,2J:'2D','-2G-1H':'29(2D)','-2G-1H-2l':1L+'1f 1U','-2T-1H':'29(2D)','-2T-1H-2l':1L+'1f 1U','-o-1H':'29(2D)','-o-1H-2l':1L+'1f 1U',3W:'1x'};11(!D.19.2m){l.1m=(D.19.1v)?0:(H-1L)+\"1f\";l.4X=((D.19.1v)?0:(0-1L))+\"1f\";l.42='40:4m.3C.3M(2J=3)'}e.1e(l).1w(D.1b.2A).1w(D.1b.2A+\"2M\"+(i+1));11(D.19.2m){e[0].1N.3Y='29(2D)';e[0].1N.51=1l.3Z(1n(B[0].1N.1E)/2)+'1f '+1l.3Z(1n(B[0].1N.1E)/2)+'1f'}}1g{11(1d(e)!=\"1t\"){e.2I()}}11(i==D.1i.1c-1){d.1w('3w');11(D.17.1s!==13){e.1w('3w')}}11(D.17.1D===13&&D.17.1s===18){12 m=1I.2q('45');m.1R=D.1b.1D+' '+(D.1b.2A+'2M'+(i+1));e.5c(m);e.1p('.'+D.1b.1D).1e({1M:'24',1m:'5d',1h:2b+1K+\"1f\",3n:\"3o\",2p:\"5g\"}).2I();11(e.5h(D.1b.1G)){e.1p('.'+D.1b.1D).4b()}}11(D.17.1s!==13){12 n=1I.2q('45');n.1R=D.1b.1A;11(D.17.1A!==18){12 o;11(1d(D.17.1A)!='3q'){o=D.17.1A[i%D.17.1A.1c]}1g{o=\"\"+(i+1)}n.2z(1I.4f(o))}e.4h(n);e.1B('.'+D.1b.1A).1e({1M:'24',2p:2,3F:'3K',1u:I+\"1f\",1E:I+\"1f\",3W:'5t',1z:((D.19.1v)?0:(0-1L))+\"1f\",1h:((D.19.1v)?5:20)+\"1f\",2J:\"2x\",'-2G-1H':'29(2x)','-2G-1H-2l':1L+'1f 1U','-2T-1H':'29(2x)','-2T-1H-2l':1L+'1f 1U','-o-1H':'29(2x)','-o-1H-2l':1L+'1f 1U'});11(D.19.2m){e.1B('.'+D.1b.1A)[0].1N.3Y='29(2x)'}J(e)}}M();11(D.17.1s!==13){D.1j.2N('4o',15(a){a.1V();D.1X(D.1j.1A(14)+1)})}11(D.17.3f!==18){$(1I).2N('5D',15(a){11($(a.3L).2j().1A(D.2s)==-1){11(a.3y==39){D.1C=13;D.1p()}1g 11(a.3y==37){D.1C=13;D.21()}}})}11(1d($.3A.3B.2P)!=\"1t\"){B.2N(\"2P\",15(a){11(D.17.28!==18){11(!O(a)){12 b=a.2Q?a.2Q:a.3D;11(D.19.1v||D.19.2o||D.19.1W){b=0-b}12 c=18;11($(a.2R).2j(D.2s).1c){11($.25(a.2R.3a.2F(),['3G','3H','3I','3J'])!=-1){c=13}}11(c!==13){11(b>0){2S(D.17.28){1r\"2g\":a.1V();1J;1r 13:3O:11(D.1a<D.1i.1c||D.17.2h==13){a.1V()}1J}D.1C=13;D.1p()}1g{2S(D.17.28){1r\"2g\":a.1V();1J;1r 13:3O:11(D.1a!=1||D.17.2h==13){a.1V()}1J}D.1C=13;D.21()}}}}})}11((D.19.1v!==13)&&(D.17.3x!=18)){12 p={x:0,y:0};12 q={x:0,y:0};12 r=D.17.3z;B[0].3g('4J',15(a){p.x=a.2V[0].3T;p.y=a.2V[0].3U},18);B[0].3g('4M',15(a){a.1V();q.x=a.2V[0].3T;q.y=a.2V[0].3U},18);B[0].3g('4N',15(a){12 b=p.x-q.x;12 c=p.y-q.y;11(q.x!=0){11(b<(0-r.x)){D.1C=13;D.21()}1g 11(b>r.x){D.1C=13;D.1p()}11(c<(0-r.y)){D.1C=13;D.1q().21()}1g 11(c>r.y){D.1C=13;D.1q().1p()}}},18)}$(D.1j[D.1a-2]).1w(D.1b.2C);$(D.1j[D.1a]).1w(D.1b.1p);K();N();P.3d(D.1a);11(D.17.3e===13){Q()}D.36=13};12 S=15(a){a=1l.1O(1,a-1);11($.25(a,D.27)!=-1){11(a==1){a=1}1g{a=S(a)}}1o a};12 T=15(a){a=1l.22(D.1i.1c,a+1);11($.25(a,D.27)!=-1){11(a==D.1i.1c){a=D.1a}1g{a=T(a)}}1o a};12 U=15(a){a=1l.22(D.1i.1c,1l.1O(1,a));11($.25(a,D.27)!=-1){11(a<D.1a){a=S(a)}1g{a=T(a)}}1o a};12 V=15(a,b){a=U(a);11((a<=D.2L||D.17.2O!==13)){11(1d(D.17.23)==\"15\"){D.17.23(D)}11(1d(b)!=\"1t\"){11(1d(b.23)==\"15\"){b.23(D)}}12 c=13;11(a<D.1a){c=18}12 d=[D.1b.1G,D.1b.1p,D.1b.2C].4U(' ');D.1a=a;D.1j.2B(d);D.1i.2B(d);B.1B('.'+D.1b.1D).2I();$(D.1j[D.1a-2]).1w(D.1b.2C);$(D.1j[D.1a]).1w(D.1b.1p);1y(12 i=0;i<D.1i.1c;i++){12 e=0;11(D.17.1s!==13){12 f=$(D.1j[i])}12 g=$(D.1i[i]);11(i<D.1a){11(i==(D.1a-1)){g.1w(D.1b.1G);11(D.17.1s!==13){f.1w(D.1b.1G);f.1p('.'+D.1b.1D).4b()}K()}e=i*1K}1g{e=i*1K+1Y}11(D.17.1s===13){e=(i-D.1a+1)*B.1u()}12 h={3j:D.17.2e,3k:D.17.2u};11(i==(c===13&&D.1a-1)||i==(c===18&&D.1a)){12 j=[];11(1d(D.17.1P)==\"15\"){j.2d(15(){D.17.1P(D)})}2S(1d(b)){1r\"15\":j.2d(15(){b(D)});1J;1r\"2Y\":j.2d(15(){b.1P(D)});1J}P.3d(D.1a);11(i==0){h.1P=15(){1y(12 z=0;z<j.1c;z++){j[z]()}}}}g.2g().2w({1h:e+\"1f\",1u:D.1Y+\"1f\"},h);11(D.17.1s!==13){J(f);11(f.1e('1h')!=e+\"1f\"){f.2g().2w({1h:e+\"1f\"},{3j:D.17.2e,3k:D.17.2u});f.1p('.'+D.1b.1D).2g().2w({1h:e+1K+\"1f\"},{3j:D.17.2e,3k:D.17.2u})}}}M()}};12 W=15(a,b){12 c=a;11(1d(a)===\"3h\"){c={};c[a]=b}1y(12 d 1Z c){b=c[d];2S(d){1r\"2e\":1r\"2v\":b=53(b);11(3v(b)){b=D.17[d]}1J;1r\"28\":1r\"3f\":1r\"1D\":1r\"2O\":1r\"1s\":1r\"3e\":1r\"2h\":11(1d(b)!==\"3q\"){b=D.17[d]}1J;1r\"2t\":1r\"2u\":11(1d(b)!==\"3h\"){b=D.17[d]}1J;1r\"1P\":1r\"23\":11(1d(b)!==\"15\"){b=D.17[d]}1J;1r\"1A\":11(1d(b)!==\"3q\"){11(!$.54(b)){b=D.17[d]}}1J}D.17[d]=b}};12 X=15(a){11($.25(a,D.27)==-1&&a!==1&&a!==0){D.27.2d(a)}};12 Y=15(a){12 b=$.25(a,D.27);11(b!=-1){D.27.57(b,1)}};12 Z=15(l,m,n){12 o=14;12 l=$(l);12 p=l.2r();11(l[0].3a==\"59\"){p=l.2r('2K');12 q=l.2r('3P').2I()}12 r=p.1c;12 s=l.2j('2K.2a');12 t=l.46();12 u=s.47();12 w=5e;11(m.2s.1B('.'+m.1b.1D).1c){w=m.2s.1B('.'+m.1b.1D).1e('z-1A')-1}14.5f=49;14.2i=49;14.1a=0;14.1i=p;14.17={2e:41,28:13,4a:18};11(1d(n)=='2Y'){1y(12 k 1Z n){14.17[k]=n[k]}}14.1b={2E:'5j',31:'31',4d:'5m'};12 x=15(a,b,c){11(1d(o.17.23)=='15'){o.17.23(o)}11(1d(c)=='2Y'){11(1d(c.23)=='15'){c.23(o)}}o.1a=a;12 d=o.17.2e;11(1d(b)!='1t'){d=0}s.1B('5n.'+o.1b.2E+' 3p.'+o.1b.31).2g().2w({1m:$(o.2i[o.1a]).1M().1m+'1f'},5p);o.2i.2B('1G');$(o.2i[o.1a]).1w('1G');l.2g().2w({1m:0-(o.1a*u)+'1f'},d,15(){11(1d(o.17.1P)=='15'){o.17.1P(o)}11(1d(c)=='2Y'){11(1d(c.1P)=='15'){c.1P(o)}}1g 11(1d(c)=='15'){c(m)}})};12 y=15(){12 b=1I.2q('5q');b.1R=o.1b.2E;b.1N.1M='24';b.1N.2p=w;b.1N.32='33';1y(a=0;a<r;a++){12 c=1I.2q('4g');c.1R='3s'+(a+1)+(a===0?' 1G':'');c.1N.32='33';12 d=1I.2q('A');11(p[a].4i){d.4j=\"#\"+p[a].4i}1g{d.4j=\"#\"+(a+1)}d.1R='3s'+(a+1);12 e=\"5x \"+(a+1);11(1d(q)!='1t'){e=q.4k(a).5z()}d.5A=e;c.2z(d);b.2z(c)}12 f=1I.2q('4g');f.1R=o.1b.31;f.1N.1m=0;f.2z(1I.4f(' '));b.2z(f);s.4h(b);o.2i=s.1B('.'+b.1R+' 3p');s.1B('.'+b.1R+' 3p a').4o(15(a){a.1V();x(14.1R.1k('3s([0-9]+)')[1]-1)})};14.1X=15(v,h,a){v=1l.22(r-1,1l.1O(0,v-1));h=1l.22(m.1i.1c-1,1l.1O(0,v));$(m.1i[h]).1B('.'+14.1b.2E+' a:4k('+v+')').1w(m.1b.1G).5C().2B(m.1b.1G);x(v,a)};14.1p=15(a){x(1l.22(r-1,o.1a+1),1t,a)};14.21=15(a){x(1l.1O(0,o.1a-1),1t,a)};14.4l=15(v,a){x(1l.1O(0,1l.22(r-1,v)),13,a)};12 z=15(){11(!s.1B('.'+o.1b.2E).1c){12 f=(((m.19.1v!==13)||m.19.2m)?$(m.1j[0]).35():$(m.1j[0]).3E());11(m.17.1s===13){f=0}l.1e({1M:'24',2p:w-1,1m:'1U',1h:f,32:'33',1F:'1U',38:'1U',1u:t.5E()-f,1E:u*r});12 g={1m:1n(p.1e('1F-1m'),10),1x:1n(p.1e('1F-1x'),10),1z:1n(p.1e('1F-1z'),10),1h:1n(p.1e('1F-1h'),10)};12 h={1m:1n(p.1e('26-1m-1u'),10),1x:1n(p.1e('26-1x-1u'),10),1z:1n(p.1e('26-1z-1u'),10),1h:1n(p.1e('26-1h-1u'),10)};1y(12 k 1Z h){11(3v(h[k])){h[k]=0}}12 i=u-g.1m-g.1z-h.1m-h.1z;12 j=l.1u()-g.1x-g.1h-h.1x-h.1h;p.5F(15(a,e){$(e).1e({32:'33',1M:'24',1m:a*u,1u:j,1E:i}).1w(o.1b.4d+'2M'+(a+1))});t.1e({3n:'3o'});y();11(1d($.3A.3B.2P)!=\"1t\"){l.2N(\"2P\",15(a){11(o.17.28!==18){12 b=a.2Q?a.2Q:a.3D;11(m.19.1v||m.19.2o||m.19.1W){b=0-b}12 c=18;11($(a.2R).2j(o.2s).1c){11($.25(a.2R.3a.2F(),['3G','3H','3I','3J'])!=-1){c=13}}11(c!==13){12 d,3t=18;11(o.17.4a===13){11((o.1a+1)==1){d=13}1g 11((o.1a+1)==o.1i.1c){3t=13}}11(b>0){a.1V();m.1C=13;11(3t){m.1p();1o 18}1g{o.1p()}}1g{a.1V();m.1C=13;11(d){m.21();1o 18}1g{o.21()}}}}})}}};11(u>0){z()}1g{12 A;A=3i(15(){l=$(l);p=l.2r();r=p.1c;s=l.2j('2K.2a');t=l.46();u=s.47();11(u>0){3u(A);z()}},20)}};12 34=15(){H=B.1E();G=B.1u();B.1e('1E',H+\"1f\");I=0;1K=0;11(D.17.1s!==13&&D.1j.1c>0){I=$(D.1j[0]).1E();1K=$(D.1j[0]).35()}1Y=G-1K*D.1j.1c;11(D.17.1s===13){1Y=G}1L=1l.5H(I/2)};12 4p=15(a){11((D.19.2X&&D.19.1Q<\"10.5\")||D.19.3X||D.19.4c||D.19.44){11(1d(3c)!=\"1t\"){11(1d(3c.4r)==\"15\"){3c.4r(\"5L 5M 19 5N 5O 5P 5Q 2W. 5R 5S 14 5T 1Z a 5U, 5V 5W 19 5X a 1a 1Q 5Y 5Z 61\")}}1o 18}11(1d(a)!=\"1t\"){1y(12 b 1Z a){D.17[b]=a[b]}}11(D.1j.1c<1){D.17.1s=13}11(D.17.1s===13){D.17.1D=18}D.1a=1l.22(D.1i.1c,1l.1O(1,D.17.2v));11(B.1E()>0){34();R()}1g{12 c;c=62(15(){34();11(B.1E()>0){3u(c);34();R()}},20)}};12 4s=15(a){12 b;b=3i(15(){11(D.36==13){3u(b);a()}},20)};14.63=15(a){4s(a);1o D};14.1p=15(a){12 b=1l.22(D.1i.1c,(D.1a+1));11(D.17.2h===13){11(D.1a+1>D.1i.1c){b=1}}V(b,a);1o D};14.21=15(a){12 b=1l.1O(1,(D.1a-1));11(D.17.2h===13){11(D.1a-1<1){b=D.1i.1c}}V(b,a);1o D};14.1X=15(a,b){D.1C=13;V(1l.22(D.1i.1c,1l.1O(1,a)),b);1o D};14.64=15(a,b){D.1C=13;D.4t(a);D.1X(a,b);1o D};14.4t=15(a){D.2L=a;N();1o D};14.66=15(a){X(a);1o D};14.67=15(a){Y(a);1o D};14.68=15(a,b){W(a,b);1o D};14.1q=15(a){12 b=14;11(1d(14.2c)=='1t'){14.2c={};1y(i=0;i<14.1i.1c;i++){12 c=$(14.1i[i]).1B('.'+14.1b.1q);12 v={1p:15(){1o 18},21:15(){1o 18},1X:15(){1o 18}};11(c.1c){v=2Z Z(c,14,a)}14.2c[i]=v}}1g{1o 14.2c[14.1a-1]}};14.69=15(v,h){11(1d(h)!='1t'){11(14.2c[h-1]!==18){11(14.1a==h){14.1q().1X(v)}1g{14.2c[h-1].1X(v,h,13);14.1X(h)}}}1g{14.1q().1X(v)}};14.2f=15(h){11(1d(h)=='1t'){h=14.1a}14.2c[h-1].4l(0)};4p(C)};$.6a.2k=15(a){12 b=[];1y(12 i=0;i<14.1c;i++){11(!14[i].2k){14[i].2k=2Z 2W(14[i],a)}b.2d(14[i].2k)}1o b.1c>1?b:b[0]}})(4B);",62,384,"|||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||||if|var|true|this|function||options|false|browser|current|classes|length|typeof|css|px|else|left|slides|spines|match|Math|top|parseInt|return|next|vertical|case|hideSpines|undefined|width|msie|addClass|right|for|bottom|index|find|pauseAutoPlay|activeCorner|height|padding|active|transform|document|break|spine_outer_width|spine_half_width|position|style|max|complete|version|className|substr|cParts|0px|preventDefault|chrome|goTo|slide_width|in||prev|min|before|absolute|inArray|border|disabledSlides|scroll|rotate|slide|offset|verticalSlides|push|speed|resetVertical|stop|cycle|navChildren|parents|slidedeck|origin|msie9|firefox|safari|zIndex|createElement|children|deck|cufonRefresh|transition|start|animate|90deg|session|appendChild|spine|removeClass|previous|270deg|navContainer|toLowerCase|webkit|disabled|hide|rotation|dd|controlTo|_|bind|controlProgress|mousewheel|detail|originalTarget|switch|moz|chromeFrame|targetTouches|SlideDeck|opera|object|new||arrow|listStyleType|none|bd|outerHeight|isLoaded||margin||nodeName|timestamp|console|track|autoPlay|keys|addEventListener|string|setInterval|duration|easing|Cufon|floor|overflow|hidden|li|boolean|cufon|nav_|lastSlide|clearInterval|isNaN|last|touch|keyCode|touchThreshold|event|special|Microsoft|wheelDelta|outerWidth|display|input|select|option|textarea|block|target|BasicImage|autoPlayInterval|default|dt|src|charAt|msie8|pageX|pageY|pro|textAlign|msie6|msTransform|round|progid|500|filter|indicator|firefox30|DIV|parent|innerHeight|label|null|continueScrolling|show|firefox2|prefix|https|createTextNode|LI|append|id|href|eq|snapTo|DXImageTransform|gotoNext|click|be|color|error|bf|updateControlTo|jquery|backgroundColor|profree|pack|js|split|noping|jQuery|Image|location|paddingLeft|protocol|window|http|www|touchstart|com|6885858486f31043e5839c735d99457f045affd0|touchmove|touchend|swing|DOM|ready|navigator|01234567890ABCDEF|userAgent|join|slidesVertical|refresh|marginLeft|background|Date||msTransformOrigin|getUTCFullYear|parseFloat|isArray|getUTCMonth|getUTCDate|splice|getUTCHours|DL|getUTCMinutes|getUTCSeconds|after|25px|100|navParent|20000|hasClass|SlideDeckSkin|verticalSlideNav|00|transparent|verticalSlide|ul|ffffff|250|UL|doctype|publicId|center|transitional|_this|msie7|Nav|5000|html|innerHTML|replace|siblings|keydown|innerWidth|each|fixed|ceil|relative|getElementsByTagName|script|This|web|is|not|supported|by|Please|view|page|modern|CSS3|capable|or|of|Inernet||Explorer|setTimeout|loaded|progressTo|chroma|disableSlide|enableSlide|setOption|goToVertical|fn|getTimezoneOffset".split("|"),0,{}));(function(a){a.fn.couponRotator=function(c){var b=a.extend({addthisImage:"//assets.bodybuilding.com/images/btnAddThis.png",addthisScript:"http://s7.addthis.com/js/250/addthis_widget.js?pub=bodybuilding",sharethisClass:"coupon-sharethis",showCount:true,divToHide:"",showExpanded:false,autoPlay:true,autoPlayInterval:5000,cycle:true,speed:1000,slides:[]},c);return this.each(function(){var d=this,l=a(this),f={forward:l.find("a#next-button-control"),backward:l.find("a#prev-button-control")},k=0,e=null,i=l.find("ul > li").length,h=b.showCount,g=b.divtoHide,j=b.showExpanded;this.init=function(){d.shareButtons();d.addRotator();d.shareScripts();d.eventHandlers();d.initExpand();d.initSlideDeck();d.startSlideDeck()};this.initExpand=function(){if(j===true){d.addExpanded();d.expandContent();a("#expand-content").hide()}else{d.addExpander();d.addExpanded();a("#expand-content").find("a").live("click",d.toggleExpand)}};this.toggleExpand=function(n){var m=a("div#expand-content a");if(m.hasClass("expand")){d.expandContent();a("#coupon-controls").hide()}else{d.collapseContent();a("#coupon-controls").show()}d.eventHandlers();n.preventDefault()};this.expandContent=function(){l.children("#slide-container").hide();l.children("ul").show().addClass("expanded").removeClass("collapsed").show();a(g).hide();l.children("ul").appendTo("#content-expanded");a("#content-expanded").show();a("#expand-content a").html("Collapse All").removeClass("expand").addClass("collapse");a("#expand-content").appendTo("#content-expanded")};this.collapseContent=function(){l.children("ul.expanded").addClass("collapsed").removeClass("expanded");l.children("ul.collapsed").hide();l.children("#slide-container").show();a("div#expand-content a").removeClass("collapse").addClass("expand").html(function(){var m=(b.showCount)?"Expand All ("+i+")":"Expand All";return m});a("#content-expanded").hide();a(g).show();a("#expand-content").appendTo(l);setTimeout(function(){e.pauseAutoPlay=false},5000)};this.addExpanded=function(){var m=a("<div />",{id:"content-expanded"}).appendTo(l)};this.addExpander=function(){if(l.find(".store-coupon").length>1){var m=a("<div />",{id:"expand-content",html:function(){var n='<a class="expand" href="#">Expand All';n+=(b.showCount)?" ("+i+")":"";n+="</a>";return n}}).appendTo(l)}};this.eventHandlers=function(){l.find("span."+b.sharethisClass+"> a").unbind("click.couponRotator").bind("click.couponRotator",d.shareCoupon);l.bind("mouseover.couponRotator",d.stopSlideDeck).bind("mouseleave.couponRotator",d.startSlideDeck)};this.shareButtons=function(){l.find(".store-coupon").each(function(){if(l.find("dl.collapsed").is(":visible")){var q=a(this)}else{var q=a(this).parent("li")}var p=(q.data("coupon"))?"#"+q.data("coupon"):"",o=(q.data("url"))?q.data("url"):location.href,m=o+p;var n=a("<span />",{"class":b.sharethisClass,html:function(){return'<a href="http://www.addthis.com/bookmark.php?v=250" data-share="'+m+'"><img src="'+b.addthisImage+'" alt="Bookmark and Share" style="border:0; margin:0;"/></a>'}});if(l.find("dl.collapsed").is(":visible")){a(n).appendTo(q)}else{q.find(".store-coupon").append(n,'<div class="clearFloatNoHeight"></div>')}})};this.shareCoupon=function(n){if(e){e.pauseAutoPlay=true}var m=a(this).data("share");addthis_open(this,"",m);n.preventDefault()};this.shareScripts=function(){var n=document.createElement("script");n.type="text/javascript";n.src=b.addthisScript;document.getElementsByTagName("head")[0].appendChild(n);var m={data_use_flash:false}};this.addRotator=function(){if(l.find("li").length>1){var r=l.find("li"),o=l.find("ul"),m=l.find("#coupon-controls");e=l.find("dl").slidedeck();l.append('<div id="slide-container"><dl class="collapsed"></dl></div>');m.detach().appendTo("#slide-container");var n=l.find("dl"),p=[];r.each(function(){var w=a(this).attr("data-url"),v=a(this).attr("data-coupon"),u=a(this).find("span.store-coupon");a(this).children().attr({"data-coupon":v,"data-url":w});a(this).removeAttr("data-coupon").removeAttr("data-url");a(this).children().clone().detach().appendTo(n);u.show();var x=u.outerHeight(),t=l.find(".coupon-sharethis").height(),x=x+t;p.push(x)});o.hide();var p=p.sort(function(u,t){return t-u}),q=p[0];n.height(q);n.children().wrap("<dd></dd>");if(f.forward.length>0){f.forward.bind("click.couponRotator",function(t){e.next();if(e.pauseAutoPlay!=true){e.pauseAutoPlay=true}t.preventDefault()})}if(f.backward.length>0){f.backward.bind("click.couponRotator",function(t){if(e.pauseAutoPlay!=true){e.pauseAutoPlay=true}e.prev();t.preventDefault()})}}else{a("#coupon-controls, #expand-content").hide()}};this.stopSlideDeck=function(){e.pauseAutoPlay=true};this.startSlideDeck=function(){e.pauseAutoPlay=false};this.initSlideDeck=function(){e=l.find("dl").slidedeck({autoPlay:b.autoPlay,autoPlayInterval:b.autoPlayInterval,cycle:b.cycle,index:false,scroll:"stop",speed:b.speed,before:function(m){}})};this.init()})}}(jQuery));BB.Validation.validationFunctions={evalDate:function(a){return function(d,f){var i=d;var e=$(f).parent().find("."+a.params[1]).val();if(d.length===0){return true}var c=BB.Validation.dates.compare(i,e);var g=(a.params[0]==="lessThan"||a.params[0]==="lessThanOrEquals")?true:false;var h=(a.params[0]==="lessThanOrEquals"||a.params[0]==="equals"||a.params[0]==="greaterThanOrEquals")?true:false;var b=(a.params[0]==="greaterThan"||a.params[0]==="greaterThanOrEquals")?true:false;var j=(((c===-1)&&g)||((c===0)&&h)||((c===1)&&b))?true:false;return(j)?true:a.msg}},inRange:function(a){BB.Log.debug("Validating inRange");return function(e){if(e.length===0||isNaN(e)){return true}var d=Math.inRange(a.params[0],a.params[1],e),c=a.msg,b=c.replace("{PARAM1}",a.params[0]).replace("{PARAM2}",a.params[1]);return(d)?true:b}},minMax:function(a){BB.Log.debug("Validating minMax");return function(e){if(e.length===0){return true}var d=(e.length>=a.params[0]&&e.length<=a.params[1])?true:false,c=a.msg,b=c.replace("{PARAM1}",a.params[0]).replace("{PARAM2}",a.params[1]);return(d)?true:b}},isNumeric:function(a){BB.Log.debug("Validating isNumeric");return function(d){if(d.length===0){return true}var c=BB.Validation.isNumeric.validate(d),b=a.msg;return(c)?true:b}},decimalNumeric:function(a){BB.Log.debug("Validating decimalNumeric");return function(d){if(d.length===0){return true}var c=BB.Validation.decimalNumeric.validate(d),b=a.msg;return(c)?true:b}},isAlpha:function(a){BB.Log.debug("Validating isAlpha");return function(d){if(d.length===0){return true}var c=BB.Validation.isAlpha.validate(d),b=a.msg;return(c)?true:b}},isAlphaAndNumeric:function(a){BB.Log.debug("Validating isAplhaAndNumeric");return function(d){if(d.length===0){return true}var c=BB.Validation.isAlphaAndNumeric.validate(d),b=a.msg;return(c)?true:b}},isAlphaOrNumeric:function(a){BB.Log.debug("Validating isAlphaOrNumeric");return function(d){if(d.length===0){return true}var c=BB.Validation.isAlphaOrNumeric.validate(d),b=a.msg;return(c)?true:b}},isAnything:function(a){BB.Log.debug("Validating isAnything");return function(d){if(d.length===0){return true}var c=BB.Validation.isAnything.validate(d),b=a.msg;return(c)?true:b}},required:function(a){BB.Log.debug("Validating required");return function(d){var c=BB.Validation.isRequired.validate(d),b=a.msg;return(c)?true:b}},lowToHigh:function(a){BB.Log.debug("Validating lowToHigh");return function(f,d){if(f.length===0){return true}var e=$(d).parent().find("."+a.params[0]).val(),c,b=a.msg;c=(parseInt(f,10)>=parseInt(e,10))?true:false;return(c)?true:b}},highToLow:function(a){BB.Log.debug("Validating highToLow");return function(f,e){if(f.length===0){return true}var d=$(e).parent().find("."+a.params[0]).val(),c,b=a.msg;c=(parseInt(f,10)<=parseInt(d,10))?true:false;return(c)?true:b}},fromTo:function(a){BB.Log.debug("Validating fromTo");return function(f,d){if(f.length===0){return true}var e=$(d).closest("."+a.params[1]).find("."+a.params[0]).val(),c,b=a.msg;c=(parseInt(f,10)>=parseInt(e,10))?true:false;return(c)?true:b}},toFrom:function(a){BB.Log.debug("Validating toFrom");return function(f,e){if(f.length===0){return true}var c=$(e).closest("."+a.params[1]).find("."+a.params[0]).val(),d,b=a.msg;d=(parseInt(f,10)<=parseInt(c,10))?true:false;return(d)?true:b}},fromTo:function(a){BB.Log.debug("Validating fromTo");return function(f,d){if(f.length===0){return true}var e=$(d).closest("div.set-body").find("."+a.params[0]).val(),c,b=a.msg;c=(parseInt(f,10)>=parseInt(e,10))?true:false;return(c)?true:b}},toFrom:function(a){BB.Log.debug("Validating toFrom");return function(f,e){if(f.length===0){return true}var c=$(e).closest("div.set-body").find("."+a.params[0]).val(),d,b=a.msg;d=(parseInt(f,10)<=parseInt(c,10))?true:false;return(d)?true:b}},isFullName:function(a){return function(e,d){if(e.length===0){return true}var c=BB.Validation.isFullName.validate(e),b=a.msg;return(c)?true:b}},isZip:function(a){BB.Log.debug("Validating isZip");return function(e,d){if(e.length===0){return true}var c=BB.Validation.isZipCode.validate(e),b=a.msg;return(c)?true:b}},isEmail:function(a){BB.Log.debug("Validating isEmail");return function(e,d){if(e.length===0){return true}var c=BB.Validation.isEmail.validate(e),b=a.msg;return(c)?true:b}},isOccupationCityState:function(a){BB.Log.debug("Validating isOccupationCityState");return function(e,d){if(e.length===0){return true}var c=BB.Validation.isOccupationCityState.validate(e),b=a.msg;return(c)?true:b}},isPrintingChars:function(a){BB.Log.debug("Validating isPrintingChars");return function(e,d){if(e.length===0){return true}var c=BB.Validation.isPrintingChars.validate(e),b=a.msg;return(c)?true:b}},custom:function(a){BB.Log.debug("Validating Custom Validation]");return function(c,b){return a.customFunction(c)}}};(function(b){BB.Log.debug("loading validation");var a={};a.buildSelector=function(f){var e=0,d="";for(e=0;e<f.length;e++){if(e!==0){d+=","}d+="."+f[e]}return d};a.buildHandlerFunction=function(f,g){var e={},d;for(d in f){if(f.hasOwnProperty(d)){e[d]=a.buildValidationArray(f[d],g)}}return e};a.buildValidationArray=function(e,f){var h=0,d=[],g;for(h=0;h<e.length;h++){g=BB.Validation.validationFunctions[e[h].type](b.extend({},e[h]));if(f.required===false&&e[h].type==="required"){f.required=g}g.getValidationType=(function(i){return function(){return i}}(e[h].type));d.push(g)}return d};a.findItemInNestedArray=function(f,g,d){var e=0;for(e=0;e<g.length;e++){if(f===g[e][d]){return true}}return false};var c=function(f,e){if(e===undefined){throw new Error("Invalid argument (pid) used for creating the ValHandler object")}var d=this;this.pid=e;this.evtSuffix=".valHandler";this.options=b.extend({},f);this.elements=[];this.controlItems=[];this.invalidItems=[];this.requiredItems=[];this.rebind=function(){var g=0,h;for(g=0;g<this.invalidItems.length;g++){h=this.invalidItems[g];if(!b(h).closest("html").length){BB.Log.debug("Item was removed from the DOM");this.options.viewForValid({ele:h});this.invalidItems.remove(h)}else{BB.Log.debug("Item is still in the DOM");b(h).data("runValidation")()}}this.getWatchedItems()};this.addControlItem=function(h){var g,i;if(h.tagName.toLowerCase()!=="a"&&h.tagName.toLowerCase()!=="input"){i=b(h).find("a,input")[0];if(typeof i==="undefined"){i=h}}else{i=h}if(i.onclick&&i.onclick!==""){b(h).data("vhStoredClick",i.onclick);i.onclick=""}b(i).unbind(d.evtSuffix).bind("click"+d.evtSuffix,function(j){j.preventDefault();var k=true;if(d.areThereEmptyRequiredFields.call(this)){return false}if(d.invalidItems.length>0){d.fireFailureEvent.call(h)}else{if(typeof d.options.additionalValidation==="function"&&d.options.additionalValidation!==b.noop){k=d.options.additionalValidation()}if(k){if(typeof d.options.onSubmitSuccess==="function"&&d.options.onSubmitSuccess!==b.noop){d.options.onSubmitSuccess()}if(typeof d.options.success==="function"&&d.options.success!==b.noop){d.options.success([],h)}b(h).data("vhStoredClick")(j)}}});if(!a.findItemInNestedArray(h,this.controlItems,"0")){this.controlItems.push([h,g])}};this.areThereEmptyRequiredFields=function(){var j,k=false,i=[],g,h;for(j=0;j<d.requiredItems.length;j++){g=b(d.requiredItems[j][0]);h=(g.val()==="0")?"":g.val();k=(h==="");if(k&&typeof d.requiredItems[j][1].required(h)==="string"){d.addInvalidItem(d.requiredItems[j][0]);d.options.viewForInvalid({ele:d.requiredItems[j][0],msg:d.requiredItems[j][1].required(h),valType:"required"})}}if(i.length>0){d.fireFailureEvent(this);return true}return false};this.fireFailureEvent=function(h){var i=[],g;for(g=0;g<d.invalidItems.length;g++){i.push(d.invalidItems[g])}d.options.failure(i,this)};this.getWatchedItems=function(){var m,j,h,l={required:false},g,k,i;if(this.options.validationJSON){k=this.options.validationJSON;for(i in k){if(k.hasOwnProperty(i)){m=k[i];j=a.buildSelector(m.className);g=b(j);h=a.buildHandlerFunction(m.events,l);if(!d.options.useLive){d.bindToElements(g,b.extend({},h))}else{d.bindLive(j,b.extend({},h))}b.each(g,function(n,o){if(m.required){d.requiredItems.push([this,l])}})}}}else{throw new Error("No validation object present")}};this.bindToElements=function(h,l){var n=0,k,p,g=false,o=false,m=(b.fn.on)?"on":"bind",j=(b.fn.on)?"off":"unbind";for(n=0;n<h.length;n++){k=h[n];b(k)[j](d.evtSuffix);for(p in l){if(l.hasOwnProperty(p)){o=false;if(d.options.nullKeyCodes&&d.options.nullKeyCodes.length>0){if(!g&&p==="keypress"){g=true;o=true}}b(k).data("runValidation",b.proxy(d.buildEventHandler(o,l[p]),k));b(k)[m](p+d.evtSuffix,{funcs:l[p]},b(k).data("runValidation"))}}if(d.options.nullKeyCodes&&d.options.nullKeyCodes.length>0&&!g){b(k)[j]("keypress"+d.evtSuffix).bind("keypress"+d.evtSuffix,d.doKeyFilter)}}};this.bindLive=function(m,h){var g,l=0,k=false,n=false,j;for(g in h){if(h.hasOwnProperty(g)){if(d.options.nullKeyCodes&&d.options.nullKeyCodes.length>0){if(!k&&g==="keypress"){k=true;n=true}}if(b.fn.on){b(window).off(g+d.evtSuffix);b(window).on(g+d.evtSuffix,m,{funcs:h[g]},d.buildEventHandler(n))}else{b(m).unbind(g+d.evtSuffix);b(m).live(g+d.evtSuffix,{funcs:h[g]},d.buildEventHandler(n))}}}};this.doKeyFilter=function(g){if(d.options.nullKeyCodes.indexOf(g.keyCode)!==-1){g.preventDefault();return false}return true};this.buildEventHandler=function(h,g){return function(k){var m=0,l=g,o,j=[],i,n={ele:this,msg:"",valType:""};if(h){d.doKeyFilter(k)}for(m=0;m<l.length;m++){if(typeof(o=l[m](this.value,this))==="string"){j.push([l[m].getValidationType(),o])}}if(j.length>0){BB.Log.debug("Errors found with this item",this);d.addInvalidItem.call(d,this);i=j.pop();n.valType=i[0];n.msg=i[1];d.options.viewForInvalid(n)}else{BB.Log.debug("No vlaidation errors on this item",this);d.removeInvalidItem.call(d,this);d.options.viewForValid(n)}}};this.addInvalidItem=function(g){if(this.invalidItems.indexOf(g)===-1){b(g).data("valHandler","invalid");this.invalidItems.push(g)}};this.removeInvalidItem=function(g){if(this.invalidItems.indexOf(g)!==-1){b(g).data("valHandler","valid");this.invalidItems.remove(g)}if(this.invalidItems.length===0){this.clearControItemErrors()}};this.clearControItemErrors=function(){var g=0;for(g=0;g<this.controlItems.length;g++){this.options.success([],this.controlItems[g][0])}};this.initialize=function(){this.binding=(b.fn.on)?"on":"bind";this.unbinding=(b.fn.on)?"off":"unbind";if(this.options.onBeforeInit&&typeof this.options.onBeforeInit==="function"){this.options.onBeforeInit.call(this)}this.getWatchedItems();if(this.options.onAfterInit&&typeof this.options.onAfterInit==="function"){this.options.onAfterInit.call(this)}}};b.fn.valHandler=function(f){var d={validationJSON:[],viewForValid:b.noop,viewForInvalid:b.noop,additionalValidation:b.noop,onSubmitSuccess:b.noop,onBeforeInit:b.noop,onAfterInit:b.noop,failure:b.noop,success:b.noop,nullKeyCodes:[],useLive:false,forceRewire:false},e;this.each(function(){if(!e){e=b(this).data("ValHandler")}});if(!e){e=new c(b.extend(d,f),Math.floor(Math.random()*10000000));e.initialize()}else{e.rebind()}return this.each(function(){b(this).data("ValHandler",e);e.addControlItem(this);return this})}}(jQuery));